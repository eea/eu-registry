#! <?xml version="1.0" encoding="UTF-8" ?>
#! <WORKSPACE
#    Command-line to run this workspace:
#        "C:\Program Files\FME\fme.exe" "S:\Common workspace\Developers\liberti\EURegistry_LookupTableGen_deployment\test\EUReg_lookup_table_conversion_opt.fmw"
#              --DB_CONNECTION "EUReg"
#              --TOP_PERCENT_LIMIT "100"
#              --COUNTRY_CODE "CZ"
#    
#!   ATTR_TYPE_ENCODING="SDF"
#!   BEGIN_PYTHON=""
#!   BEGIN_TCL=""
#!   CATEGORY=""
#!   DESCRIPTION=""
#!   DESTINATION="NONE"
#!   DESTINATION_ROUTING_FILE=""
#!   DOC_EXTENTS="3919.06 1974.89"
#!   DOC_TOP_LEFT="-2625.03 -1107.39"
#!   END_PYTHON="&lt;lf&gt;#&lt;space&gt;Script&lt;space&gt;to&lt;space&gt;split&lt;space&gt;lookup&lt;space&gt;tables&lt;space&gt;into&lt;space&gt;separate&lt;space&gt;tables&lt;space&gt;per&lt;space&gt;country&lt;lf&gt;&lt;lf&gt;"
#!   END_TCL=""
#!   EXPLICIT_BOOKMARK_ORDER="false"
#!   FME_BUILD_NUM="19630"
#!   FME_DOCUMENT_GUID="0dc95bf8-2b65-4c17-94d0-b7acd3a58e5e"
#!   FME_DOCUMENT_PRIORGUID="6c3cb230-609e-4518-8878-fbfd1828c894,82b800f4-ab98-405d-9549-025c8f2e1311,4809a288-0141-4b2a-a328-f9dee3eb53aa,58f5b291-3245-4ba0-ac38-a70aced0dff8,f753270a-1b35-4985-938a-4b58ee66434d,7254971f-2bc4-4bf9-9158-0e8bc7b053de"
#!   FME_GEOMETRY_HANDLING="Enhanced"
#!   FME_IMPLICIT_CSMAP_REPROJECTION_MODE="Auto"
#!   FME_REPROJECTION_ENGINE="FME"
#!   FME_SERVER_SERVICES=""
#!   FME_STROKE_MAX_DEVIATION="0"
#!   HISTORY=""
#!   IGNORE_READER_FAILURE="No"
#!   LAST_SAVE_BUILD="FME(R) 2019.1.2.0 (20190829 - Build 19630 - WIN64)"
#!   LAST_SAVE_DATE="2019-10-23T16:03:59"
#!   LOG_FILE=""
#!   LOG_MAX_RECORDED_FEATURES="200"
#!   MARKDOWN_DESCRIPTION=""
#!   MARKDOWN_USAGE=""
#!   MAX_LOG_FEATURES="200"
#!   MULTI_WRITER_DATASET_ORDER="BY_ID"
#!   PASSWORD=""
#!   PYTHON_COMPATIBILITY="36"
#!   REDIRECT_TERMINATORS="NONE"
#!   SAVE_ON_PROMPT_AND_RUN="Yes"
#!   SHOW_ANNOTATIONS="true"
#!   SHOW_INFO_NODES="true"
#!   SOURCE="NONE"
#!   SOURCE_ROUTING_FILE=""
#!   TERMINATE_REJECTED="YES"
#!   TITLE=""
#!   USAGE=""
#!   USE_MARKDOWN=""
#!   VIEW_POSITION="-1759.39 815.633"
#!   WARN_INVALID_XFORM_PARAM="Yes"
#!   WORKSPACE_VERSION="1"
#!   ZOOM_SCALE="100"
#! >
#! <DATASETS>
#! </DATASETS>
#! <DATA_TYPES>
#! </DATA_TYPES>
#! <GEOM_TYPES>
#! </GEOM_TYPES>
#! <FEATURE_TYPES>
#! </FEATURE_TYPES>
#! <FMESERVER>
#! <SERVICES>
#! <SERVICE
#!   NAME="fmejobsubmitter"
#! >
#! <PROPERTIES>
#! <PROPERTY
#!   CATEGORY="FMEUSERPROPDATA"
#!   NAME="ADVANCED"
#!   VALUE=""
#! />
#! <PROPERTY
#!   CATEGORY="FMEUSERPROPDATA"
#!   NAME="FAILURE_TOPICS"
#!   VALUE=""
#! />
#! <PROPERTY
#!   CATEGORY="FMEUSERPROPDATA"
#!   NAME="HTTP_DATASET"
#!   VALUE=""
#! />
#! <PROPERTY
#!   CATEGORY="FMEUSERPROPDATA"
#!   NAME="NOTIFICATION_WRITER"
#!   VALUE=""
#! />
#! <PROPERTY
#!   CATEGORY="FMEUSERPROPDATA"
#!   NAME="SUCCESS_TOPICS"
#!   VALUE=""
#! />
#! </PROPERTIES>
#! </SERVICE>
#! </SERVICES>
#! <REPOSITORY
#!   NAME="Industrial Sites"
#! />
#! <ITEM
#!   NAME="EUReg_lookuptables.fmw"
#! />
#! <MODIFICATIONS>
#! <MODIFICATION
#!   UID=":GlobalParameterMgr:FME_SERVER_DEST_DIR"
#!   VALUE=""
#! />
#! <MODIFICATION
#!   UID=":GlobalParameterMgr:FME_SHAREDRESOURCE_DATA"
#!   VALUE=""
#! />
#! <MODIFICATION
#!   UID=":GlobalParameterMgr:FME_SHAREDRESOURCE_TEMP"
#!   VALUE=""
#! />
#! <MODIFICATION
#!   UID=":GlobalParameterMgr:FME_TOPIC_MESSAGE"
#!   VALUE=""
#! />
#! <MODIFICATION
#!   UID=":WBDoc:DESTINATION_ROUTING_FILE"
#!   VALUE=""
#! />
#! <MODIFICATION
#!   UID=":WBDoc:LOG_FILE"
#!   VALUE=""
#! />
#! <MODIFICATION
#!   UID=":WBDoc:SOURCE_ROUTING_FILE"
#!   VALUE=""
#! />
#! </MODIFICATIONS>
#! <WRITER_DATASETS>
#! <DATASET 
#!   NAME="PF_File"
#!   OVERRIDE="--FeatureWriterDataset_PF_File"
#!   DATASET="@Value(ProductionFacilityFile)"
#! />
#! <DATASET 
#!   NAME="PI_File"
#!   OVERRIDE="--FeatureWriterDataset_PI_File"
#!   DATASET="@Value(ProductionInstallationFile)"
#! />
#! <DATASET 
#!   NAME="PIP_file"
#!   OVERRIDE="--FeatureWriterDataset_PIP_file"
#!   DATASET="@Value(ProductionInstallationPartFile)"
#! />
#! <DATASET 
#!   NAME="PS_file"
#!   OVERRIDE="--FeatureWriterDataset_PS_file"
#!   DATASET="@Value(ProductionSiteFile)"
#! />
#! </WRITER_DATASETS>
#! </FMESERVER>
#! <GLOBAL_PARAMETERS>
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI NAMED_DB_CONNECTION_ENCODED DB_CONNECTION FMT:MSSQL_ADO%FAMILY:Microsoft&lt;space&gt;SQL&lt;space&gt;Server Connection:"
#!   DEFAULT_VALUE="EUReg"
#!   IS_STAND_ALONE="true"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI OPTIONAL RANGE_SLIDER_OR_ATTR TOP_PERCENT_LIMIT &quot;RANGE:[1,100]&quot; Process only first percent of records:"
#!   DEFAULT_VALUE="100"
#!   IS_STAND_ALONE="true"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI TEXT_OR_ATTR COUNTRY_CODE Country Code:"
#!   DEFAULT_VALUE="CZ"
#!   IS_STAND_ALONE="true"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI IGNORE OPTIONAL FILENAME_OR_ATTR PRODUCTION_SITE_FILE XML|.xml Production Site File:"
#!   DEFAULT_VALUE="ProductionSite.xml"
#!   IS_STAND_ALONE="true"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI IGNORE OPTIONAL FILENAME_OR_ATTR PRODUCTION_FACILITY_FILE Text/Compressed_Text_Files(*.txt;*.txt.gz)|*.txt;*.txt.gz|Text_Files(*.txt)|*.txt|Compressed_Text_Files(*.txt.gz)|*.txt.gz|All_Files|* Production Facility File:"
#!   DEFAULT_VALUE="ProductionFacility.xml"
#!   IS_STAND_ALONE="true"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI IGNORE OPTIONAL FILENAME_OR_ATTR PRODUCTION_INSTALLATION_FILE Text/Compressed_Text_Files(*.txt;*.txt.gz)|*.txt;*.txt.gz|Text_Files(*.txt)|*.txt|Compressed_Text_Files(*.txt.gz)|*.txt.gz|All_Files|* Production Installation File:"
#!   DEFAULT_VALUE="ProductionInstallation.xml"
#!   IS_STAND_ALONE="true"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI IGNORE OPTIONAL FILENAME_OR_ATTR PRODUCTION_INSTALLATION_PART_FILE Text/Compressed_Text_Files(*.txt;*.txt.gz)|*.txt;*.txt.gz|Text_Files(*.txt)|*.txt|Compressed_Text_Files(*.txt.gz)|*.txt.gz|All_Files|* Production Installation Part File:"
#!   DEFAULT_VALUE="ProductionInstallationPart.xml"
#!   IS_STAND_ALONE="true"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI IGNORE OPTIONAL FILE_OR_ATTR_ENCODED ZIP_PATH All_Files(*)|* Destination Zip File:"
#!   DEFAULT_VALUE="eu_registry_lookup_tables.zip"
#!   IS_STAND_ALONE="true"
#! />
#! </GLOBAL_PARAMETERS>
#! <COMMENTS>
#! </COMMENTS>
#! <CONSTANTS>
#! </CONSTANTS>
#! <BOOKMARKS>
#! </BOOKMARKS>
#! <TRANSFORMERS>
#! <TRANSFORMER
#!   IDENTIFIER="2"
#!   TYPE="Creator"
#!   VERSION="5"
#!   POSITION="-2625.0262502625019 867.50687506875079"
#!   BOUNDING_RECT="-2625.0262502625019 867.50687506875079 431 71"
#!   ORDER="500000000000001"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="18520"
#! >
#!     <OUTPUT_FEAT NAME="CREATED"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_creation_instance" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="ATEND" PARM_VALUE="no"/>
#!     <XFORM_PARM PARM_NAME="COORDS" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="COORDSYS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="CRE_ATTR" PARM_VALUE="_creation_instance"/>
#!     <XFORM_PARM PARM_NAME="GEOM" PARM_VALUE="&lt;lt&gt;?xml&lt;space&gt;version=&lt;quote&gt;1.0&lt;quote&gt;&lt;space&gt;encoding=&lt;quote&gt;US_ASCII&lt;quote&gt;&lt;space&gt;standalone=&lt;quote&gt;no&lt;quote&gt;&lt;space&gt;?&lt;gt&gt;&lt;lt&gt;geometry&lt;space&gt;dimension=&lt;quote&gt;2&lt;quote&gt;&lt;gt&gt;&lt;lt&gt;null&lt;solidus&gt;&lt;gt&gt;&lt;lt&gt;&lt;solidus&gt;geometry&lt;gt&gt;"/>
#!     <XFORM_PARM PARM_NAME="GEOMTYPE" PARM_VALUE="Geometry Object"/>
#!     <XFORM_PARM PARM_NAME="NUM" PARM_VALUE="1"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="Creator"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="9"
#!   TYPE="SQLExecutor"
#!   VERSION="8"
#!   POSITION="-1268.2418490851574 867.50687506875079"
#!   BOUNDING_RECT="-1268.2418490851574 867.50687506875079 431 71"
#!   ORDER="500000000000004"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="19630"
#! >
#!     <OUTPUT_FEAT NAME="RESULT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <OUTPUT_FEAT NAME="INITIATOR"/>
#!     <FEAT_COLLAPSED COLLAPSED="1"/>
#!     <XFORM_ATTR ATTR_NAME="_creation_instance" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_matched_records" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <OUTPUT_FEAT NAME="&lt;REJECTED&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="2"/>
#!     <XFORM_ATTR ATTR_NAME="_creation_instance" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_reader_error" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_PARM PARM_NAME="COMBINE_ATTRS" PARM_VALUE="Result Attributes Only"/>
#!     <XFORM_PARM PARM_NAME="COMBINE_GEOM" PARM_VALUE="Initiator Geometry Only"/>
#!     <XFORM_PARM PARM_NAME="COORDSYS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="DATASET" PARM_VALUE="$(DB_CONNECTION)"/>
#!     <XFORM_PARM PARM_NAME="DB_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="DYNGROUP_0" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="EXPOSED_ATTRIBUTE_LIST" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FEATURETYPES" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FORMAT" PARM_VALUE="MSSQL_ADO"/>
#!     <XFORM_PARM PARM_NAME="FORMAT_PARAMS" PARM_VALUE="MSSQL_ADO_CREATE_FEATURE_TABLES_FROM_DATA,&quot;IGNORE TEXT&quot;,MSSQL_ADO&lt;space&gt;,MSSQL_ADO_NAMED_CONNECTION,&quot;IGNORE TEXT&quot;,MSSQL_ADO&lt;space&gt;Connection:,MSSQL_ADO_COMMAND_TIMEOUT,&quot;OPTIONAL INTEGER&quot;,MSSQL_ADO&lt;space&gt;Command&lt;space&gt;Timeout&lt;space&gt;&lt;openparen&gt;Seconds&lt;closeparen&gt;:,MSSQL_ADO_QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS,&quot;IGNORE TEXT&quot;,MSSQL_ADO&lt;space&gt;"/>
#!     <XFORM_PARM PARM_NAME="MSSQL_ADO_COMMAND_TIMEOUT" PARM_VALUE="30"/>
#!     <XFORM_PARM PARM_NAME="MSSQL_ADO_CREATE_FEATURE_TABLES_FROM_DATA" PARM_VALUE="Yes"/>
#!     <XFORM_PARM PARM_NAME="MSSQL_ADO_NAMED_CONNECTION" PARM_VALUE="$(DB_CONNECTION)"/>
#!     <XFORM_PARM PARM_NAME="MSSQL_ADO_QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS" PARM_VALUE="Yes"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="SQL_STATEMENT" PARM_VALUE="select&lt;space&gt;TOP&lt;openparen&gt;$(TOP_PERCENT_LIMIT)&lt;closeparen&gt;PERCENT&lt;lf&gt;countryCode&lt;space&gt;as&lt;space&gt;countryId&lt;comma&gt;&lt;lf&gt;reportingYear&lt;comma&gt;&lt;lf&gt;localId&lt;space&gt;as&lt;space&gt;inspireId_localId&lt;comma&gt;&lt;lf&gt;namespace&lt;space&gt;as&lt;space&gt;inspireId_namespace&lt;comma&gt;&lt;lf&gt;siteName&lt;comma&gt;&lt;lf&gt;gmlId&lt;comma&gt;&lt;lf&gt;x_4258&lt;space&gt;as&lt;space&gt;longitude&lt;comma&gt;&lt;lf&gt;y_4258&lt;space&gt;as&lt;space&gt;latitude&lt;space&gt;&lt;lf&gt;from&lt;space&gt;dbo.ProductionSite&lt;lf&gt;where&lt;space&gt;countryCode&lt;space&gt;=&lt;space&gt;&lt;apos&gt;$(COUNTRY_CODE)&lt;apos&gt;"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="SQLExecutor"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="14"
#!   TYPE="SubDocumentTransformer"
#!   VERSION="1"
#!   POSITION="-559.55194258130132 867.50687506875079"
#!   BOUNDING_RECT="-559.55194258130132 867.50687506875079 430 71"
#!   ORDER="500000000000050"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="19630"
#! >
#!     <OUTPUT_FEAT NAME="Html"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_templater_output_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="html" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <OUTPUT_FEAT NAME="Initiator"/>
#!     <FEAT_COLLAPSED COLLAPSED="1"/>
#!     <XFORM_ATTR ATTR_NAME="_templateFile" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_workingDir" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_jinjaDataClass" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_templater_output_id" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_PARM PARM_NAME="SUB_DOC_NAME" PARM_VALUE="Jinja2Wrapper"/>
#!     <XFORM_PARM PARM_NAME="TEMPLATE_FILE" PARM_VALUE="production_site_template.jinja2.xml"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="Jinja2Wrapper-PS"/>
#!     <XFORM_PARM PARM_NAME="__COMPOUND_PARAMETERS" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="15"
#!   TYPE="SQLExecutor"
#!   VERSION="8"
#!   POSITION="-1268.2418490851574 258.12563228359477"
#!   BOUNDING_RECT="-1268.2418490851574 258.12563228359477 431 71"
#!   ORDER="500000000000004"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="19630"
#! >
#!     <OUTPUT_FEAT NAME="RESULT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <OUTPUT_FEAT NAME="INITIATOR"/>
#!     <FEAT_COLLAPSED COLLAPSED="1"/>
#!     <XFORM_ATTR ATTR_NAME="_feature_type{}.count" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_feature_type{}.name" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_dataset" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_total_features_written" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_matched_records" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <OUTPUT_FEAT NAME="&lt;REJECTED&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="2"/>
#!     <XFORM_ATTR ATTR_NAME="_feature_type{}.count" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_feature_type{}.name" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_dataset" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_total_features_written" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_reader_error" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_PARM PARM_NAME="COMBINE_ATTRS" PARM_VALUE="Result Attributes Only"/>
#!     <XFORM_PARM PARM_NAME="COMBINE_GEOM" PARM_VALUE="Initiator Geometry Only"/>
#!     <XFORM_PARM PARM_NAME="COORDSYS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="DATASET" PARM_VALUE="$(DB_CONNECTION)"/>
#!     <XFORM_PARM PARM_NAME="DB_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="DYNGROUP_0" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="EXPOSED_ATTRIBUTE_LIST" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FEATURETYPES" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FORMAT" PARM_VALUE="MSSQL_ADO"/>
#!     <XFORM_PARM PARM_NAME="FORMAT_PARAMS" PARM_VALUE="MSSQL_ADO_CREATE_FEATURE_TABLES_FROM_DATA,&quot;IGNORE TEXT&quot;,MSSQL_ADO&lt;space&gt;,MSSQL_ADO_NAMED_CONNECTION,&quot;IGNORE TEXT&quot;,MSSQL_ADO&lt;space&gt;Connection:,MSSQL_ADO_COMMAND_TIMEOUT,&quot;OPTIONAL INTEGER&quot;,MSSQL_ADO&lt;space&gt;Command&lt;space&gt;Timeout&lt;space&gt;&lt;openparen&gt;Seconds&lt;closeparen&gt;:,MSSQL_ADO_QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS,&quot;IGNORE TEXT&quot;,MSSQL_ADO&lt;space&gt;"/>
#!     <XFORM_PARM PARM_NAME="MSSQL_ADO_COMMAND_TIMEOUT" PARM_VALUE="30"/>
#!     <XFORM_PARM PARM_NAME="MSSQL_ADO_CREATE_FEATURE_TABLES_FROM_DATA" PARM_VALUE="Yes"/>
#!     <XFORM_PARM PARM_NAME="MSSQL_ADO_NAMED_CONNECTION" PARM_VALUE="$(DB_CONNECTION)"/>
#!     <XFORM_PARM PARM_NAME="MSSQL_ADO_QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS" PARM_VALUE="Yes"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="SQL_STATEMENT" PARM_VALUE="select&lt;space&gt;TOP&lt;openparen&gt;$(TOP_PERCENT_LIMIT)&lt;closeparen&gt;PERCENT&lt;lf&gt;pf.countryCode&lt;space&gt;as&lt;space&gt;countryId&lt;comma&gt;&lt;lf&gt;pf.reportingYear&lt;space&gt;as&lt;space&gt;reportingYear&lt;comma&gt;&lt;lf&gt;pf.localId&lt;space&gt;as&lt;space&gt;inspireId_localId&lt;comma&gt;&lt;lf&gt;pf.namespace&lt;space&gt;as&lt;space&gt;inspireId_namespace&lt;comma&gt;&lt;lf&gt;pf.gmlId&lt;space&gt;as&lt;space&gt;gmlId&lt;comma&gt;&lt;lf&gt;pf.x_4258&lt;space&gt;as&lt;space&gt;longitude&lt;comma&gt;&lt;lf&gt;pf.y_4258&lt;space&gt;as&lt;space&gt;latitude&lt;comma&gt;&lt;lf&gt;pf.facilityName&lt;space&gt;as&lt;space&gt;facilityName&lt;comma&gt;&lt;lf&gt;pf.parentCompanyName&lt;space&gt;as&lt;space&gt;parentCompanyName&lt;comma&gt;&lt;lf&gt;pf.parentCompanyURL&lt;space&gt;as&lt;space&gt;parentCompanyURL&lt;comma&gt;&lt;lf&gt;pf.parentCompanyConfidentiality&lt;space&gt;as&lt;space&gt;parentCompanyConfidentiality&lt;comma&gt;&lt;lf&gt;ps.localId&lt;space&gt;as&lt;space&gt;hostingSite&lt;comma&gt;&lt;lf&gt;pf.EPRTRAnnexIMainActivity&lt;space&gt;as&lt;space&gt;mainActivity&lt;comma&gt;&lt;lf&gt;pf.status&lt;space&gt;as&lt;space&gt;status&lt;lf&gt;from&lt;space&gt;dbo.ProductionFacility&lt;space&gt;pf&lt;space&gt;&lt;lf&gt;left&lt;space&gt;join&lt;space&gt;dbo.ProductionSite&lt;space&gt;ps&lt;space&gt;&lt;lf&gt;on&lt;space&gt;pf.siteId&lt;space&gt;=&lt;space&gt;ps.id&lt;lf&gt;where&lt;space&gt;pf.countryCode&lt;space&gt;=&lt;space&gt;&lt;apos&gt;$(COUNTRY_CODE)&lt;apos&gt;"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="SQLExecutor_2"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="20"
#!   TYPE="SubDocumentTransformer"
#!   VERSION="1"
#!   POSITION="-559.55194258130132 284.9992499924997"
#!   BOUNDING_RECT="-559.55194258130132 284.9992499924997 430 71"
#!   ORDER="500000000000050"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="19630"
#! >
#!     <OUTPUT_FEAT NAME="Html"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_templater_output_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="html" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <OUTPUT_FEAT NAME="Initiator"/>
#!     <FEAT_COLLAPSED COLLAPSED="1"/>
#!     <XFORM_ATTR ATTR_NAME="_templateFile" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_workingDir" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_jinjaDataClass" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_templater_output_id" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_PARM PARM_NAME="SUB_DOC_NAME" PARM_VALUE="Jinja2Wrapper"/>
#!     <XFORM_PARM PARM_NAME="TEMPLATE_FILE" PARM_VALUE="production_facility_template.jinja2.xml"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="Jinja2Wrapper-PF"/>
#!     <XFORM_PARM PARM_NAME="__COMPOUND_PARAMETERS" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="28"
#!   TYPE="FeatureWriter"
#!   VERSION="0"
#!   POSITION="863.02946362797002 867.50687506875079"
#!   BOUNDING_RECT="863.02946362797002 867.50687506875079 431 71"
#!   ORDER="500000000000052"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="19630"
#! >
#!     <OUTPUT_FEAT NAME="SUMMARY"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_feature_type{}.count" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_feature_type{}.name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_dataset" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_total_features_written" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="COORDSYS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="DATASET" PARM_VALUE="&lt;at&gt;Value&lt;openparen&gt;ProductionSiteFile&lt;closeparen&gt;"/>
#!     <XFORM_PARM PARM_NAME="DATASET_ATTR" PARM_VALUE="_dataset"/>
#!     <XFORM_PARM PARM_NAME="DYNGROUP_0" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FEATURE_TYPES_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FEATURE_TYPE_LIST_ATTR" PARM_VALUE="_feature_type"/>
#!     <XFORM_PARM PARM_NAME="FORMAT" PARM_VALUE="TEXTLINE"/>
#!     <XFORM_PARM PARM_NAME="FORMAT_DIRECTIVES" PARM_VALUE="RUNTIME_MACROS,OVERWRITE_FILE&lt;comma&gt;YES&lt;comma&gt;END_OF_LINE&lt;comma&gt;System&lt;comma&gt;WRITE_LAST_EOL&lt;comma&gt;YES&lt;comma&gt;ENCODING&lt;comma&gt;utf-8&lt;comma&gt;WRITE_UTF8_BOM&lt;comma&gt;YES&lt;comma&gt;MIME_TYPE&lt;comma&gt;text&lt;solidus&gt;plain&lt;comma&gt;DESTINATION_DATASETTYPE_VALIDATION&lt;comma&gt;Yes&lt;comma&gt;COORDINATE_SYSTEM_GRANULARITY&lt;comma&gt;FEATURE,METAFILE,TEXTLINE"/>
#!     <XFORM_PARM PARM_NAME="FORMAT_PARAMS" PARM_VALUE="TEXTLINE_COORDINATE_SYSTEM_GRANULARITY,&quot;OPTIONAL NO_EDIT TEXT&quot;,TEXTLINE&lt;space&gt;,TEXTLINE_OVERWRITE_FILE,&quot;OPTIONAL CHOICE YES%NO&quot;,TEXTLINE&lt;space&gt;Overwrite&lt;space&gt;Existing&lt;space&gt;File:,TEXTLINE_ENCODING,&quot;OPTIONAL STRING_OR_ENCODING fme-system%*&quot;,TEXTLINE&lt;space&gt;Character&lt;space&gt;Encoding:,TEXTLINE_WRITE_LAST_EOL,&quot;OPTIONAL CHOICE YES%NO&quot;,TEXTLINE&lt;space&gt;Write&lt;space&gt;Last&lt;space&gt;Line&lt;space&gt;Terminator:,TEXTLINE_MIME_TYPE,&quot;OPTIONAL STRING_OR_CHOICE application/json%application/octet-stream%application/xml%application/x-www-form-urlencoded%image/gif%image/jpeg%image/png%image/tiff%multipart/mixed%multipart/alternative%multipart/related%text/html%text/plain%text/xml&quot;,TEXTLINE&lt;space&gt;MIME&lt;space&gt;Type:,TEXTLINE_DESTINATION_DATASETTYPE_VALIDATION,&quot;OPTIONAL NO_EDIT TEXT&quot;,TEXTLINE&lt;space&gt;,TEXTLINE_WRITE_UTF8_BOM,&quot;OPTIONAL CHOICE YES%NO&quot;,TEXTLINE&lt;space&gt;Write&lt;space&gt;UTF&lt;space&gt;Byte&lt;space&gt;Order&lt;space&gt;Mark,TEXTLINE_END_OF_LINE,&quot;OPTIONAL CHOICE System%Windows%Unix%Macintosh%Source%None&quot;,TEXTLINE&lt;space&gt;Line&lt;space&gt;Termination:"/>
#!     <XFORM_PARM PARM_NAME="MORE_SUMMARY_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NO_OUTPUT_PORTS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="OUTPUTPORTS_GROUP" PARM_VALUE="NO"/>
#!     <XFORM_PARM PARM_NAME="OUTPUT_PORTS" PARM_VALUE="&quot;&quot;"/>
#!     <XFORM_PARM PARM_NAME="OUTPUT_PORTS_MODE" PARM_VALUE="NO_OUTPUT_PORTS"/>
#!     <XFORM_PARM PARM_NAME="PER_EACH_INPUT" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="SELECTED_PORTS" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="SUMMARY_ATTRS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_COORDINATE_SYSTEM_GRANULARITY" PARM_VALUE="FEATURE"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_DESTINATION_DATASETTYPE_VALIDATION" PARM_VALUE="Yes"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_ENCODING" PARM_VALUE="utf-8"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_END_OF_LINE" PARM_VALUE="System"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_MIME_TYPE" PARM_VALUE="text/plain"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_OVERWRITE_FILE" PARM_VALUE="YES"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_WRITE_LAST_EOL" PARM_VALUE="YES"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_WRITE_UTF8_BOM" PARM_VALUE="YES"/>
#!     <XFORM_PARM PARM_NAME="TOTAL_FEATURES_WRITTEN_ATTR" PARM_VALUE="_total_features_written"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="WRITER_DIRECTIVES" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="WRITER_FEATURE_TYPE_PARAMS" PARM_VALUE="text_line:text_line,ftp_feature_type_name,text_line,ftp_writer,TEXTLINE,ftp_dynamic_schema,no,ftp_dynamic_feature_type_name_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_geometry_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_schema_def_name_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_schema_sources,&lt;lt&gt;lt&lt;gt&gt;Unused&lt;lt&gt;gt&lt;gt&gt;,ftp_attribute_source,1,ftp_user_attributes,text_line_data&lt;comma&gt;buffer,ftp_user_attribute_values,&lt;lt&gt;lt&lt;gt&gt;at&lt;lt&gt;gt&lt;gt&gt;Value&lt;lt&gt;lt&lt;gt&gt;openparen&lt;lt&gt;gt&lt;gt&gt;html&lt;lt&gt;lt&lt;gt&gt;closeparen&lt;lt&gt;gt&lt;gt&gt;"/>
#!     <XFORM_PARM PARM_NAME="WRITER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="WRITER_METAFILE" PARM_VALUE="ATTRIBUTE_CASE,ANY,ATTRIBUTE_INVALID_CHARS,,ATTRIBUTE_LENGTH,60,ATTR_TYPE_MAP,char&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;fme_varchar&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;char&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;fme_varbinary&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;char&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;fme_char&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;char&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;fme_binary&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;buffer&lt;comma&gt;fme_buffer&lt;comma&gt;buffer&lt;comma&gt;fme_binarybuffer&lt;comma&gt;buffer&lt;comma&gt;fme_xml&lt;comma&gt;buffer&lt;comma&gt;fme_json&lt;comma&gt;char&lt;openparen&gt;20&lt;closeparen&gt;&lt;comma&gt;fme_datetime&lt;comma&gt;char&lt;openparen&gt;12&lt;closeparen&gt;&lt;comma&gt;fme_time&lt;comma&gt;char&lt;openparen&gt;8&lt;closeparen&gt;&lt;comma&gt;fme_date&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;31&lt;comma&gt;15&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_real64&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;15&lt;comma&gt;7&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_real32&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;11&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_int32&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;11&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_uint32&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;20&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_int64&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;20&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_uint64&lt;comma&gt;logical&lt;comma&gt;fme_boolean&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;6&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_int16&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;6&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_uint16&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;4&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_int8&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;4&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_uint8&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;width&lt;comma&gt;decimal&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;&lt;quote&gt;fme_decimal&lt;openparen&gt;width&lt;comma&gt;decimal&lt;closeparen&gt;&lt;quote&gt;,DEST_ILLEGAL_ATTR_LIST,,FEATURE_TYPE_CASE,ANY,FEATURE_TYPE_INVALID_CHARS,,FEATURE_TYPE_LENGTH,0,FEATURE_TYPE_LENGTH_INCLUDES_PREFIX,false,FEATURE_TYPE_RESERVED_WORDS,,FORMAT_METAFILE,$(FME_HOME_ENCODED)metafile&lt;backslash&gt;TEXTLINE.fmf,FORMAT_NAME,TEXTLINE,GEOM_MAP,text_line_none&lt;comma&gt;fme_no_geom&lt;comma&gt;text_line_none&lt;comma&gt;fme_point&lt;comma&gt;text_line_none&lt;comma&gt;fme_line&lt;comma&gt;text_line_none&lt;comma&gt;fme_polygon&lt;comma&gt;text_line_none&lt;comma&gt;fme_text&lt;comma&gt;text_line_none&lt;comma&gt;fme_ellipse&lt;comma&gt;text_line_none&lt;comma&gt;fme_arc&lt;comma&gt;text_line_none&lt;comma&gt;fme_rectangle&lt;comma&gt;text_line_none&lt;comma&gt;fme_rounded_rectangle&lt;comma&gt;text_line_none&lt;comma&gt;fme_collection&lt;comma&gt;text_line_none&lt;comma&gt;fme_raster&lt;comma&gt;text_line_none&lt;comma&gt;fme_surface&lt;comma&gt;text_line_none&lt;comma&gt;fme_solid&lt;comma&gt;text_line_none&lt;comma&gt;fme_point_cloud&lt;comma&gt;text_line_none&lt;comma&gt;fme_feature_table,READER_ATTR_INDEX_TYPES,,SOURCE,no,SUPPORTS_FEAT_TYPE_FANOUT,no,SUPPORTS_MULTI_GEOM,yes,WORKBENCH_CANNED_SCHEMA,textline.sch,WRITER,TEXTLINE,WRITER_ATTR_INDEX_TYPES,,WRITER_DEFLINE_PARMS,,WRITER_DEF_LINE_TEMPLATE,&lt;opencurly&gt;FME_GEN_GROUP_NAME&lt;closecurly&gt;,WRITER_FORMAT_PARAMETER,READER_FEATURE_TYPE_EDITING&lt;comma&gt;NO&lt;comma&gt;WRITER_FEATURE_TYPE_EDITING&lt;comma&gt;NO&lt;comma&gt;MIME_TYPE&lt;comma&gt;text&lt;solidus&gt;plain&lt;comma&gt;DATASET_NAME&lt;comma&gt;&lt;quote&gt;txt&lt;space&gt;file&lt;quote&gt;&lt;comma&gt;FEATURE_TYPE_DEFAULT_NAME&lt;comma&gt;text_line&lt;comma&gt;READER_DATASET_HINT&lt;comma&gt;&lt;quote&gt;Select&lt;space&gt;the&lt;space&gt;Text&lt;space&gt;file&lt;openparen&gt;s&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;WRITER_DATASET_HINT&lt;comma&gt;&lt;quote&gt;Specify&lt;space&gt;a&lt;space&gt;name&lt;space&gt;for&lt;space&gt;the&lt;space&gt;Text&lt;space&gt;file&lt;quote&gt;,WRITER_HAS_DEFLINE_ATTRS,yes"/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="PS_file"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="25"
#!   TYPE="FeatureWriter"
#!   VERSION="0"
#!   POSITION="863.02946362797002 284.9992499924997"
#!   BOUNDING_RECT="863.02946362797002 284.9992499924997 431 71"
#!   ORDER="500000000000052"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="19630"
#! >
#!     <OUTPUT_FEAT NAME="SUMMARY"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_feature_type{}.count" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_feature_type{}.name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_dataset" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_total_features_written" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="COORDSYS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="DATASET" PARM_VALUE="&lt;at&gt;Value&lt;openparen&gt;ProductionFacilityFile&lt;closeparen&gt;"/>
#!     <XFORM_PARM PARM_NAME="DATASET_ATTR" PARM_VALUE="_dataset"/>
#!     <XFORM_PARM PARM_NAME="DYNGROUP_0" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FEATURE_TYPES_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FEATURE_TYPE_LIST_ATTR" PARM_VALUE="_feature_type"/>
#!     <XFORM_PARM PARM_NAME="FORMAT" PARM_VALUE="TEXTLINE"/>
#!     <XFORM_PARM PARM_NAME="FORMAT_DIRECTIVES" PARM_VALUE="RUNTIME_MACROS,OVERWRITE_FILE&lt;comma&gt;YES&lt;comma&gt;END_OF_LINE&lt;comma&gt;System&lt;comma&gt;WRITE_LAST_EOL&lt;comma&gt;YES&lt;comma&gt;ENCODING&lt;comma&gt;utf-8&lt;comma&gt;WRITE_UTF8_BOM&lt;comma&gt;YES&lt;comma&gt;MIME_TYPE&lt;comma&gt;text&lt;solidus&gt;plain&lt;comma&gt;DESTINATION_DATASETTYPE_VALIDATION&lt;comma&gt;Yes&lt;comma&gt;COORDINATE_SYSTEM_GRANULARITY&lt;comma&gt;FEATURE,METAFILE,TEXTLINE"/>
#!     <XFORM_PARM PARM_NAME="FORMAT_PARAMS" PARM_VALUE="TEXTLINE_COORDINATE_SYSTEM_GRANULARITY,&quot;OPTIONAL NO_EDIT TEXT&quot;,TEXTLINE&lt;space&gt;,TEXTLINE_OVERWRITE_FILE,&quot;OPTIONAL CHOICE YES%NO&quot;,TEXTLINE&lt;space&gt;Overwrite&lt;space&gt;Existing&lt;space&gt;File:,TEXTLINE_ENCODING,&quot;OPTIONAL STRING_OR_ENCODING fme-system%*&quot;,TEXTLINE&lt;space&gt;Character&lt;space&gt;Encoding:,TEXTLINE_WRITE_LAST_EOL,&quot;OPTIONAL CHOICE YES%NO&quot;,TEXTLINE&lt;space&gt;Write&lt;space&gt;Last&lt;space&gt;Line&lt;space&gt;Terminator:,TEXTLINE_MIME_TYPE,&quot;OPTIONAL STRING_OR_CHOICE application/json%application/octet-stream%application/xml%application/x-www-form-urlencoded%image/gif%image/jpeg%image/png%image/tiff%multipart/mixed%multipart/alternative%multipart/related%text/html%text/plain%text/xml&quot;,TEXTLINE&lt;space&gt;MIME&lt;space&gt;Type:,TEXTLINE_DESTINATION_DATASETTYPE_VALIDATION,&quot;OPTIONAL NO_EDIT TEXT&quot;,TEXTLINE&lt;space&gt;,TEXTLINE_WRITE_UTF8_BOM,&quot;OPTIONAL CHOICE YES%NO&quot;,TEXTLINE&lt;space&gt;Write&lt;space&gt;UTF&lt;space&gt;Byte&lt;space&gt;Order&lt;space&gt;Mark,TEXTLINE_END_OF_LINE,&quot;OPTIONAL CHOICE System%Windows%Unix%Macintosh%Source%None&quot;,TEXTLINE&lt;space&gt;Line&lt;space&gt;Termination:"/>
#!     <XFORM_PARM PARM_NAME="MORE_SUMMARY_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NO_OUTPUT_PORTS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="OUTPUTPORTS_GROUP" PARM_VALUE="NO"/>
#!     <XFORM_PARM PARM_NAME="OUTPUT_PORTS" PARM_VALUE="&quot;&quot;"/>
#!     <XFORM_PARM PARM_NAME="OUTPUT_PORTS_MODE" PARM_VALUE="NO_OUTPUT_PORTS"/>
#!     <XFORM_PARM PARM_NAME="PER_EACH_INPUT" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="SELECTED_PORTS" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="SUMMARY_ATTRS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_COORDINATE_SYSTEM_GRANULARITY" PARM_VALUE="FEATURE"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_DESTINATION_DATASETTYPE_VALIDATION" PARM_VALUE="Yes"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_ENCODING" PARM_VALUE="utf-8"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_END_OF_LINE" PARM_VALUE="System"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_MIME_TYPE" PARM_VALUE="text/plain"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_OVERWRITE_FILE" PARM_VALUE="YES"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_WRITE_LAST_EOL" PARM_VALUE="YES"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_WRITE_UTF8_BOM" PARM_VALUE="YES"/>
#!     <XFORM_PARM PARM_NAME="TOTAL_FEATURES_WRITTEN_ATTR" PARM_VALUE="_total_features_written"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="WRITER_DIRECTIVES" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="WRITER_FEATURE_TYPE_PARAMS" PARM_VALUE="text_line:text_line,ftp_feature_type_name,text_line,ftp_writer,TEXTLINE,ftp_dynamic_schema,no,ftp_dynamic_feature_type_name_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_geometry_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_schema_def_name_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_schema_sources,&lt;lt&gt;lt&lt;gt&gt;Unused&lt;lt&gt;gt&lt;gt&gt;,ftp_attribute_source,1,ftp_user_attributes,text_line_data&lt;comma&gt;buffer,ftp_user_attribute_values,&lt;lt&gt;lt&lt;gt&gt;at&lt;lt&gt;gt&lt;gt&gt;Value&lt;lt&gt;lt&lt;gt&gt;openparen&lt;lt&gt;gt&lt;gt&gt;html&lt;lt&gt;lt&lt;gt&gt;closeparen&lt;lt&gt;gt&lt;gt&gt;"/>
#!     <XFORM_PARM PARM_NAME="WRITER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="WRITER_METAFILE" PARM_VALUE="ATTRIBUTE_CASE,ANY,ATTRIBUTE_INVALID_CHARS,,ATTRIBUTE_LENGTH,60,ATTR_TYPE_MAP,char&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;fme_varchar&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;char&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;fme_varbinary&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;char&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;fme_char&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;char&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;fme_binary&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;buffer&lt;comma&gt;fme_buffer&lt;comma&gt;buffer&lt;comma&gt;fme_binarybuffer&lt;comma&gt;buffer&lt;comma&gt;fme_xml&lt;comma&gt;buffer&lt;comma&gt;fme_json&lt;comma&gt;char&lt;openparen&gt;20&lt;closeparen&gt;&lt;comma&gt;fme_datetime&lt;comma&gt;char&lt;openparen&gt;12&lt;closeparen&gt;&lt;comma&gt;fme_time&lt;comma&gt;char&lt;openparen&gt;8&lt;closeparen&gt;&lt;comma&gt;fme_date&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;31&lt;comma&gt;15&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_real64&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;15&lt;comma&gt;7&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_real32&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;11&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_int32&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;11&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_uint32&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;20&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_int64&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;20&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_uint64&lt;comma&gt;logical&lt;comma&gt;fme_boolean&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;6&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_int16&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;6&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_uint16&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;4&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_int8&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;4&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_uint8&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;width&lt;comma&gt;decimal&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;&lt;quote&gt;fme_decimal&lt;openparen&gt;width&lt;comma&gt;decimal&lt;closeparen&gt;&lt;quote&gt;,DEST_ILLEGAL_ATTR_LIST,,FEATURE_TYPE_CASE,ANY,FEATURE_TYPE_INVALID_CHARS,,FEATURE_TYPE_LENGTH,0,FEATURE_TYPE_LENGTH_INCLUDES_PREFIX,false,FEATURE_TYPE_RESERVED_WORDS,,FORMAT_METAFILE,$(FME_HOME_ENCODED)metafile&lt;backslash&gt;TEXTLINE.fmf,FORMAT_NAME,TEXTLINE,GEOM_MAP,text_line_none&lt;comma&gt;fme_no_geom&lt;comma&gt;text_line_none&lt;comma&gt;fme_point&lt;comma&gt;text_line_none&lt;comma&gt;fme_line&lt;comma&gt;text_line_none&lt;comma&gt;fme_polygon&lt;comma&gt;text_line_none&lt;comma&gt;fme_text&lt;comma&gt;text_line_none&lt;comma&gt;fme_ellipse&lt;comma&gt;text_line_none&lt;comma&gt;fme_arc&lt;comma&gt;text_line_none&lt;comma&gt;fme_rectangle&lt;comma&gt;text_line_none&lt;comma&gt;fme_rounded_rectangle&lt;comma&gt;text_line_none&lt;comma&gt;fme_collection&lt;comma&gt;text_line_none&lt;comma&gt;fme_raster&lt;comma&gt;text_line_none&lt;comma&gt;fme_surface&lt;comma&gt;text_line_none&lt;comma&gt;fme_solid&lt;comma&gt;text_line_none&lt;comma&gt;fme_point_cloud&lt;comma&gt;text_line_none&lt;comma&gt;fme_feature_table,READER_ATTR_INDEX_TYPES,,SOURCE,no,SUPPORTS_FEAT_TYPE_FANOUT,no,SUPPORTS_MULTI_GEOM,yes,WORKBENCH_CANNED_SCHEMA,textline.sch,WRITER,TEXTLINE,WRITER_ATTR_INDEX_TYPES,,WRITER_DEFLINE_PARMS,,WRITER_DEF_LINE_TEMPLATE,&lt;opencurly&gt;FME_GEN_GROUP_NAME&lt;closecurly&gt;,WRITER_FORMAT_PARAMETER,READER_FEATURE_TYPE_EDITING&lt;comma&gt;NO&lt;comma&gt;WRITER_FEATURE_TYPE_EDITING&lt;comma&gt;NO&lt;comma&gt;MIME_TYPE&lt;comma&gt;text&lt;solidus&gt;plain&lt;comma&gt;DATASET_NAME&lt;comma&gt;&lt;quote&gt;txt&lt;space&gt;file&lt;quote&gt;&lt;comma&gt;FEATURE_TYPE_DEFAULT_NAME&lt;comma&gt;text_line&lt;comma&gt;READER_DATASET_HINT&lt;comma&gt;&lt;quote&gt;Select&lt;space&gt;the&lt;space&gt;Text&lt;space&gt;file&lt;openparen&gt;s&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;WRITER_DATASET_HINT&lt;comma&gt;&lt;quote&gt;Specify&lt;space&gt;a&lt;space&gt;name&lt;space&gt;for&lt;space&gt;the&lt;space&gt;Text&lt;space&gt;file&lt;quote&gt;,WRITER_HAS_DEFLINE_ATTRS,yes"/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="PF_File"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="23"
#!   TYPE="SQLExecutor"
#!   VERSION="8"
#!   POSITION="-1268.2418490851574 -392.50396151234315"
#!   BOUNDING_RECT="-1268.2418490851574 -392.50396151234315 431 71"
#!   ORDER="500000000000004"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="19630"
#! >
#!     <OUTPUT_FEAT NAME="RESULT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <OUTPUT_FEAT NAME="INITIATOR"/>
#!     <FEAT_COLLAPSED COLLAPSED="1"/>
#!     <XFORM_ATTR ATTR_NAME="_feature_type{}.count" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_feature_type{}.name" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_dataset" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_total_features_written" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_matched_records" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <OUTPUT_FEAT NAME="&lt;REJECTED&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="2"/>
#!     <XFORM_ATTR ATTR_NAME="_feature_type{}.count" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_feature_type{}.name" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_dataset" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_total_features_written" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_reader_error" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_PARM PARM_NAME="COMBINE_ATTRS" PARM_VALUE="Result Attributes Only"/>
#!     <XFORM_PARM PARM_NAME="COMBINE_GEOM" PARM_VALUE="Initiator Geometry Only"/>
#!     <XFORM_PARM PARM_NAME="COORDSYS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="DATASET" PARM_VALUE="$(DB_CONNECTION)"/>
#!     <XFORM_PARM PARM_NAME="DB_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="DYNGROUP_0" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="EXPOSED_ATTRIBUTE_LIST" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FEATURETYPES" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FORMAT" PARM_VALUE="MSSQL_ADO"/>
#!     <XFORM_PARM PARM_NAME="FORMAT_PARAMS" PARM_VALUE="MSSQL_ADO_CREATE_FEATURE_TABLES_FROM_DATA,&quot;IGNORE TEXT&quot;,MSSQL_ADO&lt;space&gt;,MSSQL_ADO_NAMED_CONNECTION,&quot;IGNORE TEXT&quot;,MSSQL_ADO&lt;space&gt;Connection:,MSSQL_ADO_COMMAND_TIMEOUT,&quot;OPTIONAL INTEGER&quot;,MSSQL_ADO&lt;space&gt;Command&lt;space&gt;Timeout&lt;space&gt;&lt;openparen&gt;Seconds&lt;closeparen&gt;:,MSSQL_ADO_QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS,&quot;IGNORE TEXT&quot;,MSSQL_ADO&lt;space&gt;"/>
#!     <XFORM_PARM PARM_NAME="MSSQL_ADO_COMMAND_TIMEOUT" PARM_VALUE="30"/>
#!     <XFORM_PARM PARM_NAME="MSSQL_ADO_CREATE_FEATURE_TABLES_FROM_DATA" PARM_VALUE="Yes"/>
#!     <XFORM_PARM PARM_NAME="MSSQL_ADO_NAMED_CONNECTION" PARM_VALUE="$(DB_CONNECTION)"/>
#!     <XFORM_PARM PARM_NAME="MSSQL_ADO_QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS" PARM_VALUE="Yes"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="SQL_STATEMENT" PARM_VALUE="select&lt;space&gt;TOP&lt;openparen&gt;$(TOP_PERCENT_LIMIT)&lt;closeparen&gt;PERCENT&lt;lf&gt;pi.countryCode&lt;space&gt;as&lt;space&gt;countryId&lt;comma&gt;&lt;lf&gt;pi.reportingYear&lt;comma&gt;&lt;lf&gt;pi.localId&lt;space&gt;as&lt;space&gt;inspireId_localId&lt;comma&gt;&lt;lf&gt;pi.namespace&lt;space&gt;as&lt;space&gt;inspireId_namespace&lt;comma&gt;&lt;lf&gt;pi.gmlId&lt;comma&gt;&lt;lf&gt;pi.x_4258&lt;space&gt;as&lt;space&gt;longitude&lt;comma&gt;&lt;lf&gt;pi.y_4258&lt;space&gt;as&lt;space&gt;latitude&lt;comma&gt;&lt;lf&gt;pi.installationName&lt;comma&gt;&lt;lf&gt;pi.IEDAnnexIMainActivity&lt;space&gt;as&lt;space&gt;mainActivity&lt;comma&gt;&lt;lf&gt;oa.otherActivities&lt;space&gt;as&lt;space&gt;otherActivities&lt;comma&gt;&lt;lf&gt;pi.status&lt;comma&gt;&lt;lf&gt;px.dateOfGrantings&lt;comma&gt;&lt;lf&gt;px.permitURLs&lt;lf&gt;from&lt;space&gt;dbo.ProductionInstallation&lt;space&gt;pi&lt;space&gt;left&lt;space&gt;join&lt;lf&gt;&lt;openparen&gt;select&lt;space&gt;installationId&lt;comma&gt;&lt;space&gt;STRING_AGG&lt;space&gt;&lt;openparen&gt;otherActivity&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;comma&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;space&gt;as&lt;space&gt;otherActivities&lt;lf&gt;from&lt;space&gt;dbo.ProductionInstallationIEDOtherActivity&lt;space&gt;group&lt;space&gt;by&lt;space&gt;installationId&lt;space&gt;&lt;closeparen&gt;&lt;space&gt;oa&lt;lf&gt;on&lt;space&gt;oa.installationId&lt;space&gt;=&lt;space&gt;pi.id&lt;lf&gt;left&lt;space&gt;join&lt;lf&gt;&lt;openparen&gt;select&lt;space&gt;installationId&lt;comma&gt;&lt;lf&gt;STRING_AGG&lt;space&gt;&lt;openparen&gt;ISNULL&lt;openparen&gt;convert&lt;openparen&gt;varchar&lt;comma&gt;dateOfGranting&lt;comma&gt;112&lt;closeparen&gt;&lt;comma&gt;&lt;apos&gt;NULL&lt;apos&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;comma&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;space&gt;as&lt;space&gt;dateOfGrantings&lt;comma&gt;&lt;space&gt;&lt;lf&gt;STRING_AGG&lt;space&gt;&lt;openparen&gt;ISNULL&lt;openparen&gt;permitURL&lt;comma&gt;&lt;apos&gt;NULL&lt;apos&gt;&lt;closeparen&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;comma&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;space&gt;as&lt;space&gt;permitURLs&lt;lf&gt;from&lt;space&gt;dbo.ProductionInstallationPermitDetails&lt;space&gt;group&lt;space&gt;by&lt;space&gt;installationId&lt;closeparen&gt;&lt;space&gt;px&lt;lf&gt;on&lt;space&gt;px.installationId&lt;space&gt;=&lt;space&gt;pi.id&lt;lf&gt;where&lt;space&gt;pi.countryCode&lt;space&gt;=&lt;space&gt;&lt;apos&gt;$(COUNTRY_CODE)&lt;apos&gt;"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="SQLExecutor_3"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="29"
#!   TYPE="SubDocumentTransformer"
#!   VERSION="1"
#!   POSITION="-559.55194258130132 -453.13121881218837"
#!   BOUNDING_RECT="-559.55194258130132 -453.13121881218837 431 71"
#!   ORDER="500000000000050"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="19630"
#! >
#!     <OUTPUT_FEAT NAME="Html"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_templater_output_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="html" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <OUTPUT_FEAT NAME="Initiator"/>
#!     <FEAT_COLLAPSED COLLAPSED="1"/>
#!     <XFORM_ATTR ATTR_NAME="_templateFile" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_workingDir" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_jinjaDataClass" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_templater_output_id" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_PARM PARM_NAME="SUB_DOC_NAME" PARM_VALUE="Jinja2Wrapper"/>
#!     <XFORM_PARM PARM_NAME="TEMPLATE_FILE" PARM_VALUE="production_installation_template.jinja2.xml"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="Jinja2Wrapper-PI"/>
#!     <XFORM_PARM PARM_NAME="__COMPOUND_PARAMETERS" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="30"
#!   TYPE="FeatureWriter"
#!   VERSION="0"
#!   POSITION="863.0294636279699 -453.13121881218837"
#!   BOUNDING_RECT="863.0294636279699 -453.13121881218837 431 71"
#!   ORDER="500000000000052"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="19630"
#! >
#!     <OUTPUT_FEAT NAME="SUMMARY"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_feature_type{}.count" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_feature_type{}.name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_dataset" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_total_features_written" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="COORDSYS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="DATASET" PARM_VALUE="&lt;at&gt;Value&lt;openparen&gt;ProductionInstallationFile&lt;closeparen&gt;"/>
#!     <XFORM_PARM PARM_NAME="DATASET_ATTR" PARM_VALUE="_dataset"/>
#!     <XFORM_PARM PARM_NAME="DYNGROUP_0" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FEATURE_TYPES_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FEATURE_TYPE_LIST_ATTR" PARM_VALUE="_feature_type"/>
#!     <XFORM_PARM PARM_NAME="FORMAT" PARM_VALUE="TEXTLINE"/>
#!     <XFORM_PARM PARM_NAME="FORMAT_DIRECTIVES" PARM_VALUE="RUNTIME_MACROS,OVERWRITE_FILE&lt;comma&gt;YES&lt;comma&gt;END_OF_LINE&lt;comma&gt;System&lt;comma&gt;WRITE_LAST_EOL&lt;comma&gt;YES&lt;comma&gt;ENCODING&lt;comma&gt;utf-8&lt;comma&gt;WRITE_UTF8_BOM&lt;comma&gt;YES&lt;comma&gt;MIME_TYPE&lt;comma&gt;text&lt;solidus&gt;plain&lt;comma&gt;DESTINATION_DATASETTYPE_VALIDATION&lt;comma&gt;Yes&lt;comma&gt;COORDINATE_SYSTEM_GRANULARITY&lt;comma&gt;FEATURE,METAFILE,TEXTLINE"/>
#!     <XFORM_PARM PARM_NAME="FORMAT_PARAMS" PARM_VALUE="TEXTLINE_COORDINATE_SYSTEM_GRANULARITY,&quot;OPTIONAL NO_EDIT TEXT&quot;,TEXTLINE&lt;space&gt;,TEXTLINE_OVERWRITE_FILE,&quot;OPTIONAL CHOICE YES%NO&quot;,TEXTLINE&lt;space&gt;Overwrite&lt;space&gt;Existing&lt;space&gt;File:,TEXTLINE_ENCODING,&quot;OPTIONAL STRING_OR_ENCODING fme-system%*&quot;,TEXTLINE&lt;space&gt;Character&lt;space&gt;Encoding:,TEXTLINE_WRITE_LAST_EOL,&quot;OPTIONAL CHOICE YES%NO&quot;,TEXTLINE&lt;space&gt;Write&lt;space&gt;Last&lt;space&gt;Line&lt;space&gt;Terminator:,TEXTLINE_MIME_TYPE,&quot;OPTIONAL STRING_OR_CHOICE application/json%application/octet-stream%application/xml%application/x-www-form-urlencoded%image/gif%image/jpeg%image/png%image/tiff%multipart/mixed%multipart/alternative%multipart/related%text/html%text/plain%text/xml&quot;,TEXTLINE&lt;space&gt;MIME&lt;space&gt;Type:,TEXTLINE_DESTINATION_DATASETTYPE_VALIDATION,&quot;OPTIONAL NO_EDIT TEXT&quot;,TEXTLINE&lt;space&gt;,TEXTLINE_WRITE_UTF8_BOM,&quot;OPTIONAL CHOICE YES%NO&quot;,TEXTLINE&lt;space&gt;Write&lt;space&gt;UTF&lt;space&gt;Byte&lt;space&gt;Order&lt;space&gt;Mark,TEXTLINE_END_OF_LINE,&quot;OPTIONAL CHOICE System%Windows%Unix%Macintosh%Source%None&quot;,TEXTLINE&lt;space&gt;Line&lt;space&gt;Termination:"/>
#!     <XFORM_PARM PARM_NAME="MORE_SUMMARY_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NO_OUTPUT_PORTS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="OUTPUTPORTS_GROUP" PARM_VALUE="NO"/>
#!     <XFORM_PARM PARM_NAME="OUTPUT_PORTS" PARM_VALUE="&quot;&quot;"/>
#!     <XFORM_PARM PARM_NAME="OUTPUT_PORTS_MODE" PARM_VALUE="NO_OUTPUT_PORTS"/>
#!     <XFORM_PARM PARM_NAME="PER_EACH_INPUT" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="SELECTED_PORTS" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="SUMMARY_ATTRS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_COORDINATE_SYSTEM_GRANULARITY" PARM_VALUE="FEATURE"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_DESTINATION_DATASETTYPE_VALIDATION" PARM_VALUE="Yes"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_ENCODING" PARM_VALUE="utf-8"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_END_OF_LINE" PARM_VALUE="System"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_MIME_TYPE" PARM_VALUE="text/plain"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_OVERWRITE_FILE" PARM_VALUE="YES"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_WRITE_LAST_EOL" PARM_VALUE="YES"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_WRITE_UTF8_BOM" PARM_VALUE="YES"/>
#!     <XFORM_PARM PARM_NAME="TOTAL_FEATURES_WRITTEN_ATTR" PARM_VALUE="_total_features_written"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="WRITER_DIRECTIVES" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="WRITER_FEATURE_TYPE_PARAMS" PARM_VALUE="text_line:text_line,ftp_feature_type_name,text_line,ftp_writer,TEXTLINE,ftp_dynamic_schema,no,ftp_dynamic_feature_type_name_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_geometry_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_schema_def_name_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_schema_sources,&lt;lt&gt;lt&lt;gt&gt;Unused&lt;lt&gt;gt&lt;gt&gt;,ftp_attribute_source,1,ftp_user_attributes,text_line_data&lt;comma&gt;buffer,ftp_user_attribute_values,&lt;lt&gt;lt&lt;gt&gt;at&lt;lt&gt;gt&lt;gt&gt;Value&lt;lt&gt;lt&lt;gt&gt;openparen&lt;lt&gt;gt&lt;gt&gt;html&lt;lt&gt;lt&lt;gt&gt;closeparen&lt;lt&gt;gt&lt;gt&gt;"/>
#!     <XFORM_PARM PARM_NAME="WRITER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="WRITER_METAFILE" PARM_VALUE="ATTRIBUTE_CASE,ANY,ATTRIBUTE_INVALID_CHARS,,ATTRIBUTE_LENGTH,60,ATTR_TYPE_MAP,char&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;fme_varchar&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;char&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;fme_varbinary&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;char&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;fme_char&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;char&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;fme_binary&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;buffer&lt;comma&gt;fme_buffer&lt;comma&gt;buffer&lt;comma&gt;fme_binarybuffer&lt;comma&gt;buffer&lt;comma&gt;fme_xml&lt;comma&gt;buffer&lt;comma&gt;fme_json&lt;comma&gt;char&lt;openparen&gt;20&lt;closeparen&gt;&lt;comma&gt;fme_datetime&lt;comma&gt;char&lt;openparen&gt;12&lt;closeparen&gt;&lt;comma&gt;fme_time&lt;comma&gt;char&lt;openparen&gt;8&lt;closeparen&gt;&lt;comma&gt;fme_date&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;31&lt;comma&gt;15&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_real64&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;15&lt;comma&gt;7&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_real32&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;11&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_int32&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;11&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_uint32&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;20&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_int64&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;20&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_uint64&lt;comma&gt;logical&lt;comma&gt;fme_boolean&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;6&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_int16&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;6&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_uint16&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;4&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_int8&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;4&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_uint8&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;width&lt;comma&gt;decimal&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;&lt;quote&gt;fme_decimal&lt;openparen&gt;width&lt;comma&gt;decimal&lt;closeparen&gt;&lt;quote&gt;,DEST_ILLEGAL_ATTR_LIST,,FEATURE_TYPE_CASE,ANY,FEATURE_TYPE_INVALID_CHARS,,FEATURE_TYPE_LENGTH,0,FEATURE_TYPE_LENGTH_INCLUDES_PREFIX,false,FEATURE_TYPE_RESERVED_WORDS,,FORMAT_METAFILE,$(FME_HOME_ENCODED)metafile&lt;backslash&gt;TEXTLINE.fmf,FORMAT_NAME,TEXTLINE,GEOM_MAP,text_line_none&lt;comma&gt;fme_no_geom&lt;comma&gt;text_line_none&lt;comma&gt;fme_point&lt;comma&gt;text_line_none&lt;comma&gt;fme_line&lt;comma&gt;text_line_none&lt;comma&gt;fme_polygon&lt;comma&gt;text_line_none&lt;comma&gt;fme_text&lt;comma&gt;text_line_none&lt;comma&gt;fme_ellipse&lt;comma&gt;text_line_none&lt;comma&gt;fme_arc&lt;comma&gt;text_line_none&lt;comma&gt;fme_rectangle&lt;comma&gt;text_line_none&lt;comma&gt;fme_rounded_rectangle&lt;comma&gt;text_line_none&lt;comma&gt;fme_collection&lt;comma&gt;text_line_none&lt;comma&gt;fme_raster&lt;comma&gt;text_line_none&lt;comma&gt;fme_surface&lt;comma&gt;text_line_none&lt;comma&gt;fme_solid&lt;comma&gt;text_line_none&lt;comma&gt;fme_point_cloud&lt;comma&gt;text_line_none&lt;comma&gt;fme_feature_table,READER_ATTR_INDEX_TYPES,,SOURCE,no,SUPPORTS_FEAT_TYPE_FANOUT,no,SUPPORTS_MULTI_GEOM,yes,WORKBENCH_CANNED_SCHEMA,textline.sch,WRITER,TEXTLINE,WRITER_ATTR_INDEX_TYPES,,WRITER_DEFLINE_PARMS,,WRITER_DEF_LINE_TEMPLATE,&lt;opencurly&gt;FME_GEN_GROUP_NAME&lt;closecurly&gt;,WRITER_FORMAT_PARAMETER,READER_FEATURE_TYPE_EDITING&lt;comma&gt;NO&lt;comma&gt;WRITER_FEATURE_TYPE_EDITING&lt;comma&gt;NO&lt;comma&gt;MIME_TYPE&lt;comma&gt;text&lt;solidus&gt;plain&lt;comma&gt;DATASET_NAME&lt;comma&gt;&lt;quote&gt;txt&lt;space&gt;file&lt;quote&gt;&lt;comma&gt;FEATURE_TYPE_DEFAULT_NAME&lt;comma&gt;text_line&lt;comma&gt;READER_DATASET_HINT&lt;comma&gt;&lt;quote&gt;Select&lt;space&gt;the&lt;space&gt;Text&lt;space&gt;file&lt;openparen&gt;s&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;WRITER_DATASET_HINT&lt;comma&gt;&lt;quote&gt;Specify&lt;space&gt;a&lt;space&gt;name&lt;space&gt;for&lt;space&gt;the&lt;space&gt;Text&lt;space&gt;file&lt;quote&gt;,WRITER_HAS_DEFLINE_ATTRS,yes"/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="PI_File"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="31"
#!   TYPE="SQLExecutor"
#!   VERSION="8"
#!   POSITION="-1268.2418490851574 -1036.3856825667974"
#!   BOUNDING_RECT="-1268.2418490851574 -1036.3856825667974 431 71"
#!   ORDER="500000000000004"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="19630"
#! >
#!     <OUTPUT_FEAT NAME="RESULT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <OUTPUT_FEAT NAME="INITIATOR"/>
#!     <FEAT_COLLAPSED COLLAPSED="1"/>
#!     <XFORM_ATTR ATTR_NAME="_feature_type{}.count" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_feature_type{}.name" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_dataset" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_total_features_written" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_matched_records" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <OUTPUT_FEAT NAME="&lt;REJECTED&gt;"/>
#!     <FEAT_COLLAPSED COLLAPSED="2"/>
#!     <XFORM_ATTR ATTR_NAME="_feature_type{}.count" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_feature_type{}.name" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_dataset" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_total_features_written" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_ATTR ATTR_NAME="_reader_error" IS_USER_CREATED="false" FEAT_INDEX="2" />
#!     <XFORM_PARM PARM_NAME="COMBINE_ATTRS" PARM_VALUE="Result Attributes Only"/>
#!     <XFORM_PARM PARM_NAME="COMBINE_GEOM" PARM_VALUE="Initiator Geometry Only"/>
#!     <XFORM_PARM PARM_NAME="COORDSYS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="DATASET" PARM_VALUE="$(DB_CONNECTION)"/>
#!     <XFORM_PARM PARM_NAME="DB_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="DYNGROUP_0" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="EXPOSED_ATTRIBUTE_LIST" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FEATURETYPES" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FORMAT" PARM_VALUE="MSSQL_ADO"/>
#!     <XFORM_PARM PARM_NAME="FORMAT_PARAMS" PARM_VALUE="MSSQL_ADO_CREATE_FEATURE_TABLES_FROM_DATA,&quot;IGNORE TEXT&quot;,MSSQL_ADO&lt;space&gt;,MSSQL_ADO_NAMED_CONNECTION,&quot;IGNORE TEXT&quot;,MSSQL_ADO&lt;space&gt;Connection:,MSSQL_ADO_COMMAND_TIMEOUT,&quot;OPTIONAL INTEGER&quot;,MSSQL_ADO&lt;space&gt;Command&lt;space&gt;Timeout&lt;space&gt;&lt;openparen&gt;Seconds&lt;closeparen&gt;:,MSSQL_ADO_QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS,&quot;IGNORE TEXT&quot;,MSSQL_ADO&lt;space&gt;"/>
#!     <XFORM_PARM PARM_NAME="MSSQL_ADO_COMMAND_TIMEOUT" PARM_VALUE="30"/>
#!     <XFORM_PARM PARM_NAME="MSSQL_ADO_CREATE_FEATURE_TABLES_FROM_DATA" PARM_VALUE="Yes"/>
#!     <XFORM_PARM PARM_NAME="MSSQL_ADO_NAMED_CONNECTION" PARM_VALUE="$(DB_CONNECTION)"/>
#!     <XFORM_PARM PARM_NAME="MSSQL_ADO_QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS" PARM_VALUE="Yes"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="SQL_STATEMENT" PARM_VALUE="select&lt;space&gt;TOP&lt;openparen&gt;$(TOP_PERCENT_LIMIT)&lt;closeparen&gt;PERCENT&lt;lf&gt;pip.countryCode&lt;space&gt;as&lt;space&gt;countryId&lt;comma&gt;&lt;lf&gt;pip.reportingYear&lt;comma&gt;&lt;lf&gt;pip.localId&lt;space&gt;as&lt;space&gt;inspireId_localId&lt;comma&gt;&lt;lf&gt;pip.namespace&lt;space&gt;as&lt;space&gt;inspireId_namespace&lt;comma&gt;&lt;lf&gt;pip.installationPartName&lt;comma&gt;&lt;lf&gt;pip.plantType&lt;comma&gt;&lt;lf&gt;pip.gmlId&lt;comma&gt;&lt;lf&gt;pip.x_4258&lt;space&gt;as&lt;space&gt;longitude&lt;comma&gt;&lt;lf&gt;pip.y_4258&lt;space&gt;as&lt;space&gt;latitude&lt;comma&gt;&lt;lf&gt;pip.status&lt;lf&gt;from&lt;space&gt;dbo.ProductionInstallationPart&lt;space&gt;pip&lt;space&gt;left&lt;space&gt;join&lt;lf&gt;&lt;openparen&gt;select&lt;space&gt;installationPartId&lt;comma&gt;&lt;space&gt;STRING_AGG&lt;space&gt;&lt;openparen&gt;derogation&lt;comma&gt;&lt;space&gt;&lt;apos&gt;&lt;comma&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;space&gt;as&lt;space&gt;derogations&lt;lf&gt;from&lt;space&gt;dbo.ProductionInstallationPartDerogation&lt;space&gt;group&lt;space&gt;by&lt;space&gt;installationPartId&lt;space&gt;&lt;closeparen&gt;&lt;space&gt;pd&lt;lf&gt;on&lt;space&gt;pd.installationPartId&lt;space&gt;=&lt;space&gt;pip.id&lt;lf&gt;where&lt;space&gt;pip.countryCode&lt;space&gt;=&lt;space&gt;&lt;apos&gt;$(COUNTRY_CODE)&lt;apos&gt;"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="SQLExecutor_4"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="34"
#!   TYPE="SubDocumentTransformer"
#!   VERSION="1"
#!   POSITION="-559.55194258130132 -1036.3856825667974"
#!   BOUNDING_RECT="-559.55194258130132 -1036.3856825667974 430 71"
#!   ORDER="500000000000050"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="19630"
#! >
#!     <OUTPUT_FEAT NAME="Html"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_templater_output_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="html" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <OUTPUT_FEAT NAME="Initiator"/>
#!     <FEAT_COLLAPSED COLLAPSED="1"/>
#!     <XFORM_ATTR ATTR_NAME="_templateFile" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_workingDir" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_jinjaDataClass" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_templater_output_id" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_PARM PARM_NAME="SUB_DOC_NAME" PARM_VALUE="Jinja2Wrapper"/>
#!     <XFORM_PARM PARM_NAME="TEMPLATE_FILE" PARM_VALUE="production_installation_part_template.jinja2.xml"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="Jinja2Wrapper-PIP"/>
#!     <XFORM_PARM PARM_NAME="__COMPOUND_PARAMETERS" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="35"
#!   TYPE="FeatureWriter"
#!   VERSION="0"
#!   POSITION="863.0294636279699 -1036.3856825667974"
#!   BOUNDING_RECT="863.0294636279699 -1036.3856825667974 431 71"
#!   ORDER="500000000000009"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="19630"
#! >
#!     <OUTPUT_FEAT NAME="SUMMARY"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_feature_type{}.count" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_feature_type{}.name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_dataset" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_total_features_written" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="COORDSYS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="DATASET" PARM_VALUE="&lt;at&gt;Value&lt;openparen&gt;ProductionInstallationPartFile&lt;closeparen&gt;"/>
#!     <XFORM_PARM PARM_NAME="DATASET_ATTR" PARM_VALUE="_dataset"/>
#!     <XFORM_PARM PARM_NAME="DYNGROUP_0" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FEATURE_TYPES_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="FEATURE_TYPE_LIST_ATTR" PARM_VALUE="_feature_type"/>
#!     <XFORM_PARM PARM_NAME="FORMAT" PARM_VALUE="TEXTLINE"/>
#!     <XFORM_PARM PARM_NAME="FORMAT_DIRECTIVES" PARM_VALUE="RUNTIME_MACROS,OVERWRITE_FILE&lt;comma&gt;YES&lt;comma&gt;END_OF_LINE&lt;comma&gt;System&lt;comma&gt;WRITE_LAST_EOL&lt;comma&gt;YES&lt;comma&gt;ENCODING&lt;comma&gt;utf-8&lt;comma&gt;WRITE_UTF8_BOM&lt;comma&gt;YES&lt;comma&gt;MIME_TYPE&lt;comma&gt;text&lt;solidus&gt;plain&lt;comma&gt;DESTINATION_DATASETTYPE_VALIDATION&lt;comma&gt;Yes&lt;comma&gt;COORDINATE_SYSTEM_GRANULARITY&lt;comma&gt;FEATURE,METAFILE,TEXTLINE"/>
#!     <XFORM_PARM PARM_NAME="FORMAT_PARAMS" PARM_VALUE="TEXTLINE_COORDINATE_SYSTEM_GRANULARITY,&quot;OPTIONAL NO_EDIT TEXT&quot;,TEXTLINE&lt;space&gt;,TEXTLINE_OVERWRITE_FILE,&quot;OPTIONAL CHOICE YES%NO&quot;,TEXTLINE&lt;space&gt;Overwrite&lt;space&gt;Existing&lt;space&gt;File:,TEXTLINE_ENCODING,&quot;OPTIONAL STRING_OR_ENCODING fme-system%*&quot;,TEXTLINE&lt;space&gt;Character&lt;space&gt;Encoding:,TEXTLINE_WRITE_LAST_EOL,&quot;OPTIONAL CHOICE YES%NO&quot;,TEXTLINE&lt;space&gt;Write&lt;space&gt;Last&lt;space&gt;Line&lt;space&gt;Terminator:,TEXTLINE_MIME_TYPE,&quot;OPTIONAL STRING_OR_CHOICE application/json%application/octet-stream%application/xml%application/x-www-form-urlencoded%image/gif%image/jpeg%image/png%image/tiff%multipart/mixed%multipart/alternative%multipart/related%text/html%text/plain%text/xml&quot;,TEXTLINE&lt;space&gt;MIME&lt;space&gt;Type:,TEXTLINE_DESTINATION_DATASETTYPE_VALIDATION,&quot;OPTIONAL NO_EDIT TEXT&quot;,TEXTLINE&lt;space&gt;,TEXTLINE_WRITE_UTF8_BOM,&quot;OPTIONAL CHOICE YES%NO&quot;,TEXTLINE&lt;space&gt;Write&lt;space&gt;UTF&lt;space&gt;Byte&lt;space&gt;Order&lt;space&gt;Mark,TEXTLINE_END_OF_LINE,&quot;OPTIONAL CHOICE System%Windows%Unix%Macintosh%Source%None&quot;,TEXTLINE&lt;space&gt;Line&lt;space&gt;Termination:"/>
#!     <XFORM_PARM PARM_NAME="MORE_SUMMARY_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NO_OUTPUT_PORTS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="OUTPUTPORTS_GROUP" PARM_VALUE="FME_DISCLOSURE_OPEN"/>
#!     <XFORM_PARM PARM_NAME="OUTPUT_PORTS" PARM_VALUE="&quot;&quot;"/>
#!     <XFORM_PARM PARM_NAME="OUTPUT_PORTS_MODE" PARM_VALUE="NO_OUTPUT_PORTS"/>
#!     <XFORM_PARM PARM_NAME="PER_EACH_INPUT" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="SELECTED_PORTS" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="SUMMARY_ATTRS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_COORDINATE_SYSTEM_GRANULARITY" PARM_VALUE="FEATURE"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_DESTINATION_DATASETTYPE_VALIDATION" PARM_VALUE="Yes"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_ENCODING" PARM_VALUE="utf-8"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_END_OF_LINE" PARM_VALUE="System"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_MIME_TYPE" PARM_VALUE="text/plain"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_OVERWRITE_FILE" PARM_VALUE="YES"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_WRITE_LAST_EOL" PARM_VALUE="YES"/>
#!     <XFORM_PARM PARM_NAME="TEXTLINE_WRITE_UTF8_BOM" PARM_VALUE="YES"/>
#!     <XFORM_PARM PARM_NAME="TOTAL_FEATURES_WRITTEN_ATTR" PARM_VALUE="_total_features_written"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="WRITER_DIRECTIVES" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="WRITER_FEATURE_TYPE_PARAMS" PARM_VALUE="text_line:text_line,ftp_feature_type_name,text_line,ftp_writer,TEXTLINE,ftp_dynamic_schema,no,ftp_dynamic_feature_type_name_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_geometry_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_schema_def_name_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_schema_sources,&lt;lt&gt;lt&lt;gt&gt;Unused&lt;lt&gt;gt&lt;gt&gt;,ftp_attribute_source,1,ftp_user_attributes,text_line_data&lt;comma&gt;buffer,ftp_user_attribute_values,&lt;lt&gt;lt&lt;gt&gt;at&lt;lt&gt;gt&lt;gt&gt;Value&lt;lt&gt;lt&lt;gt&gt;openparen&lt;lt&gt;gt&lt;gt&gt;html&lt;lt&gt;lt&lt;gt&gt;closeparen&lt;lt&gt;gt&lt;gt&gt;"/>
#!     <XFORM_PARM PARM_NAME="WRITER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="WRITER_METAFILE" PARM_VALUE="ATTRIBUTE_CASE,ANY,ATTRIBUTE_INVALID_CHARS,,ATTRIBUTE_LENGTH,60,ATTR_TYPE_MAP,char&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;fme_varchar&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;char&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;fme_varbinary&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;char&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;fme_char&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;char&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;fme_binary&lt;openparen&gt;width&lt;closeparen&gt;&lt;comma&gt;buffer&lt;comma&gt;fme_buffer&lt;comma&gt;buffer&lt;comma&gt;fme_binarybuffer&lt;comma&gt;buffer&lt;comma&gt;fme_xml&lt;comma&gt;buffer&lt;comma&gt;fme_json&lt;comma&gt;char&lt;openparen&gt;20&lt;closeparen&gt;&lt;comma&gt;fme_datetime&lt;comma&gt;char&lt;openparen&gt;12&lt;closeparen&gt;&lt;comma&gt;fme_time&lt;comma&gt;char&lt;openparen&gt;8&lt;closeparen&gt;&lt;comma&gt;fme_date&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;31&lt;comma&gt;15&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_real64&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;15&lt;comma&gt;7&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_real32&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;11&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_int32&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;11&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_uint32&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;20&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_int64&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;20&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_uint64&lt;comma&gt;logical&lt;comma&gt;fme_boolean&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;6&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_int16&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;6&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_uint16&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;4&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_int8&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;4&lt;comma&gt;0&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;fme_uint8&lt;comma&gt;&lt;quote&gt;number&lt;openparen&gt;width&lt;comma&gt;decimal&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;&lt;quote&gt;fme_decimal&lt;openparen&gt;width&lt;comma&gt;decimal&lt;closeparen&gt;&lt;quote&gt;,DEST_ILLEGAL_ATTR_LIST,,FEATURE_TYPE_CASE,ANY,FEATURE_TYPE_INVALID_CHARS,,FEATURE_TYPE_LENGTH,0,FEATURE_TYPE_LENGTH_INCLUDES_PREFIX,false,FEATURE_TYPE_RESERVED_WORDS,,FORMAT_METAFILE,$(FME_HOME_ENCODED)metafile&lt;backslash&gt;TEXTLINE.fmf,FORMAT_NAME,TEXTLINE,GEOM_MAP,text_line_none&lt;comma&gt;fme_no_geom&lt;comma&gt;text_line_none&lt;comma&gt;fme_point&lt;comma&gt;text_line_none&lt;comma&gt;fme_line&lt;comma&gt;text_line_none&lt;comma&gt;fme_polygon&lt;comma&gt;text_line_none&lt;comma&gt;fme_text&lt;comma&gt;text_line_none&lt;comma&gt;fme_ellipse&lt;comma&gt;text_line_none&lt;comma&gt;fme_arc&lt;comma&gt;text_line_none&lt;comma&gt;fme_rectangle&lt;comma&gt;text_line_none&lt;comma&gt;fme_rounded_rectangle&lt;comma&gt;text_line_none&lt;comma&gt;fme_collection&lt;comma&gt;text_line_none&lt;comma&gt;fme_raster&lt;comma&gt;text_line_none&lt;comma&gt;fme_surface&lt;comma&gt;text_line_none&lt;comma&gt;fme_solid&lt;comma&gt;text_line_none&lt;comma&gt;fme_point_cloud&lt;comma&gt;text_line_none&lt;comma&gt;fme_feature_table,READER_ATTR_INDEX_TYPES,,SOURCE,no,SUPPORTS_FEAT_TYPE_FANOUT,no,SUPPORTS_MULTI_GEOM,yes,WORKBENCH_CANNED_SCHEMA,textline.sch,WRITER,TEXTLINE,WRITER_ATTR_INDEX_TYPES,,WRITER_DEFLINE_PARMS,,WRITER_DEF_LINE_TEMPLATE,&lt;opencurly&gt;FME_GEN_GROUP_NAME&lt;closecurly&gt;,WRITER_FORMAT_PARAMETER,READER_FEATURE_TYPE_EDITING&lt;comma&gt;NO&lt;comma&gt;WRITER_FEATURE_TYPE_EDITING&lt;comma&gt;NO&lt;comma&gt;MIME_TYPE&lt;comma&gt;text&lt;solidus&gt;plain&lt;comma&gt;DATASET_NAME&lt;comma&gt;&lt;quote&gt;txt&lt;space&gt;file&lt;quote&gt;&lt;comma&gt;FEATURE_TYPE_DEFAULT_NAME&lt;comma&gt;text_line&lt;comma&gt;READER_DATASET_HINT&lt;comma&gt;&lt;quote&gt;Select&lt;space&gt;the&lt;space&gt;Text&lt;space&gt;file&lt;openparen&gt;s&lt;closeparen&gt;&lt;quote&gt;&lt;comma&gt;WRITER_DATASET_HINT&lt;comma&gt;&lt;quote&gt;Specify&lt;space&gt;a&lt;space&gt;name&lt;space&gt;for&lt;space&gt;the&lt;space&gt;Text&lt;space&gt;file&lt;quote&gt;,WRITER_HAS_DEFLINE_ATTRS,yes"/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="PIP_file"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="39"
#!   TYPE="AttributeCreator"
#!   VERSION="9"
#!   POSITION="166.14749480828164 867.50687506875079"
#!   BOUNDING_RECT="166.14749480828164 867.50687506875079 493.00106825772946 71"
#!   ORDER="500000000000054"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="19630"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="ProductionSiteFile" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_templater_output_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="html" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_GRP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_HANDLING" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTR_TABLE" PARM_VALUE="&quot;&quot; ProductionSiteFile SET_TO $(COUNTRY_CODE)_$(PRODUCTION_SITE_FILE)"/>
#!     <XFORM_PARM PARM_NAME="MULTI_FEATURE_MODE" PARM_VALUE="NO"/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_MODE_DISPLAY" PARM_VALUE="No Substitution"/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_VALUE" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="NUM_PRIOR_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="NUM_SUBSEQUENT_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeCreator_PSFile"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="42"
#!   TYPE="AttributeCreator"
#!   VERSION="9"
#!   POSITION="291.14874482078176 284.9992499924997"
#!   BOUNDING_RECT="291.14874482078176 284.9992499924997 492.00106825772946 71"
#!   ORDER="500000000000054"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="19630"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="ProductionFacilityFile" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_templater_output_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="html" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_GRP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_HANDLING" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTR_TABLE" PARM_VALUE="&quot;&quot; ProductionFacilityFile SET_TO $(COUNTRY_CODE)_$(PRODUCTION_FACILITY_FILE)"/>
#!     <XFORM_PARM PARM_NAME="MULTI_FEATURE_MODE" PARM_VALUE="NO"/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_MODE_DISPLAY" PARM_VALUE="No Substitution"/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_VALUE" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="NUM_PRIOR_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="NUM_SUBSEQUENT_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeCreator_PFFile"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="45"
#!   TYPE="AttributeCreator"
#!   VERSION="9"
#!   POSITION="291.14874482078176 -453.13121881218837"
#!   BOUNDING_RECT="291.14874482078176 -453.13121881218837 486.00106825772946 71"
#!   ORDER="500000000000054"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="19630"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="ProductionInstallationFile" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_templater_output_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="html" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_GRP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_HANDLING" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTR_TABLE" PARM_VALUE="&quot;&quot; ProductionInstallationFile SET_TO $(COUNTRY_CODE)_$(PRODUCTION_INSTALLATION_FILE)"/>
#!     <XFORM_PARM PARM_NAME="MULTI_FEATURE_MODE" PARM_VALUE="NO"/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_MODE_DISPLAY" PARM_VALUE="No Substitution"/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_VALUE" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="NUM_PRIOR_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="NUM_SUBSEQUENT_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeCreator_PIFile"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="33"
#!   TYPE="AttributeCreator"
#!   VERSION="9"
#!   POSITION="269.14874482078176 -1036.3856825667974"
#!   BOUNDING_RECT="269.14874482078176 -1036.3856825667974 508.00106825772946 71"
#!   ORDER="500000000000054"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="19630"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="ProductionInstallationPartFile" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_templater_output_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="html" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_GRP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_HANDLING" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTR_TABLE" PARM_VALUE="&quot;&quot; ProductionInstallationPartFile SET_TO $(COUNTRY_CODE)_$(PRODUCTION_INSTALLATION_PART_FILE)"/>
#!     <XFORM_PARM PARM_NAME="MULTI_FEATURE_MODE" PARM_VALUE="NO"/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_MODE_DISPLAY" PARM_VALUE="No Substitution"/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_VALUE" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="NUM_PRIOR_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="NUM_SUBSEQUENT_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeCreator_PIPFile"/>
#! </TRANSFORMER>
#! </TRANSFORMERS>
#! <FEAT_LINKS>
#! <FEAT_LINK
#!   IDENTIFIER="10"
#!   SOURCE_NODE="2"
#!   TARGET_NODE="9"
#!   SOURCE_PORT_DESC="fo 0 CREATED"
#!   TARGET_PORT_DESC="fi 0 INITIATOR"
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="16"
#!   SOURCE_NODE="9"
#!   TARGET_NODE="14"
#!   SOURCE_PORT_DESC="fo 0 RESULT"
#!   TARGET_PORT_DESC="fi 2 Features"
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="40"
#!   SOURCE_NODE="14"
#!   TARGET_NODE="39"
#!   SOURCE_PORT_DESC="fo 0 Html"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="21"
#!   SOURCE_NODE="15"
#!   TARGET_NODE="20"
#!   SOURCE_PORT_DESC="fo 0 RESULT"
#!   TARGET_PORT_DESC="fi 2 Features"
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="43"
#!   SOURCE_NODE="20"
#!   TARGET_NODE="42"
#!   SOURCE_PORT_DESC="fo 0 Html"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="32"
#!   SOURCE_NODE="23"
#!   TARGET_NODE="29"
#!   SOURCE_PORT_DESC="fo 0 RESULT"
#!   TARGET_PORT_DESC="fi 2 Features"
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="26"
#!   SOURCE_NODE="25"
#!   TARGET_NODE="23"
#!   SOURCE_PORT_DESC="fo 0 SUMMARY"
#!   TARGET_PORT_DESC="fi 0 INITIATOR"
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="22"
#!   SOURCE_NODE="28"
#!   TARGET_NODE="15"
#!   SOURCE_PORT_DESC="fo 0 SUMMARY"
#!   TARGET_PORT_DESC="fi 0 INITIATOR"
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="46"
#!   SOURCE_NODE="29"
#!   TARGET_NODE="45"
#!   SOURCE_PORT_DESC="fo 0 Html"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="38"
#!   SOURCE_NODE="30"
#!   TARGET_NODE="31"
#!   SOURCE_PORT_DESC="fo 0 SUMMARY"
#!   TARGET_PORT_DESC="fi 0 INITIATOR"
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="37"
#!   SOURCE_NODE="31"
#!   TARGET_NODE="34"
#!   SOURCE_PORT_DESC="fo 0 RESULT"
#!   TARGET_PORT_DESC="fi 2 Features"
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="49"
#!   SOURCE_NODE="33"
#!   TARGET_NODE="35"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="fi 0 text_line"
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="48"
#!   SOURCE_NODE="34"
#!   TARGET_NODE="33"
#!   SOURCE_PORT_DESC="fo 0 Html"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="41"
#!   SOURCE_NODE="39"
#!   TARGET_NODE="28"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="fi 0 text_line"
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="44"
#!   SOURCE_NODE="42"
#!   TARGET_NODE="25"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="fi 0 text_line"
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="47"
#!   SOURCE_NODE="45"
#!   TARGET_NODE="30"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="fi 0 text_line"
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! </FEAT_LINKS>
#! <BREAKPOINTS>
#! </BREAKPOINTS>
#! <ATTR_LINKS>
#! </ATTR_LINKS>
#! <SUBDOCUMENTS>
#! <SUBDOCUMENT
#!   NAME="Jinja2Wrapper"
#!   CATEGORY="Strings"
#!   DESCRIPTION="&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;Transformer is a wrapper around standard Jinja2 template engine&lt;/p&gt;&#10;"
#!   DOC_DYNAMIC_INPUT_ATTRS="0"
#!   DOC_EXTENTS="7013.93 959.383"
#!   DOC_TOP_LEFT="-2181.27 -593.504"
#!   FME_DOCUMENT_GUID="826680b9-ec47-474b-b333-67e96d207493"
#!   FME_DOCUMENT_PRIORGUID=""
#!   FME_PROCESS_COUNT="NO_PARALLELISM"
#!   FME_PROCESS_GROUPS_ORDERED="No"
#!   FME_PROCESS_GROUP_BY=""
#!   FME_PROCESS_PRESERVE_GROUP_ATTR="No"
#!   FMX_ATTRIBUTE_PROPOGATION_MODE="AUTO"
#!   GUID="826680b9-ec47-474b-b333-67e96d207493"
#!   HISTORY=""
#!   IS_VISIBLE="true"
#!   LAST_SAVE_BUILD=""
#!   LAST_SAVE_DATE=""
#!   MARKDOWN_DESCRIPTION=""
#!   MARKDOWN_USAGE=""
#!   PYTHON_COMPATIBILITY=""
#!   SUPPRESS_UPGRADE="false"
#!   TITLE="Jinja2Wrapper"
#!   USAGE=""
#!   USE_MARKDOWN="NO"
#!   VIEW_POSITION="-2823.43 566.866"
#!   XFORM_DEPRECATED="No"
#!   ZOOM_SCALE="86"
#! >
#! <GLOBAL_PARAMETERS>
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI OPTIONAL TEXT_OR_ATTR TEMPLATE_FILE Select the template file:"
#!   DEFAULT_VALUE=""
#!   IS_STAND_ALONE="true"
#! />
#! </GLOBAL_PARAMETERS>
#! <COMMENTS>
#! </COMMENTS>
#! <CONSTANTS>
#! </CONSTANTS>
#! <BOOKMARKS>
#! </BOOKMARKS>
#! <TRANSFORMERS>
#! <TRANSFORMER
#!   IDENTIFIER="7"
#!   TYPE="PythonCaller"
#!   VERSION="4"
#!   POSITION="489.52033103540316 -114.60845421407691"
#!   BOUNDING_RECT="489.52033103540316 -114.60845421407691 431 71"
#!   ORDER="500000000000000"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="19630"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_jinjaDataClass" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_templateFile" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_workingDir" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_templater_output_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="ADVANCED_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="HIDE_ATTRIBUTES" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NEW_ATTRIBUTES" PARM_VALUE="_templater_output_id"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PYTHONSOURCE" PARM_VALUE="import&lt;space&gt;sys&lt;lf&gt;import&lt;space&gt;os&lt;lf&gt;import&lt;space&gt;pip&lt;lf&gt;import&lt;space&gt;uuid&lt;lf&gt;import&lt;space&gt;pathlib&lt;lf&gt;import&lt;space&gt;fme&lt;lf&gt;import&lt;space&gt;fmeobjects&lt;lf&gt;import&lt;space&gt;subprocess&lt;lf&gt;&lt;lf&gt;&lt;lf&gt;templater_outputs&lt;space&gt;=&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lf&gt;&lt;lf&gt;class&lt;space&gt;FeatureProcessor&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.data&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.templater_output_id&lt;space&gt;=&lt;space&gt;str&lt;openparen&gt;uuid.uuid1&lt;openparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.globals&lt;space&gt;=&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.template_file&lt;space&gt;=&lt;space&gt;None&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.working_dir&lt;space&gt;=&lt;space&gt;None&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;input&lt;openparen&gt;self&lt;comma&gt;&lt;space&gt;feature&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;Need&lt;space&gt;to&lt;space&gt;transform&lt;space&gt;the&lt;space&gt;feature&lt;space&gt;with&lt;space&gt;its&lt;space&gt;list&lt;space&gt;attributes&lt;space&gt;in&lt;space&gt;a&lt;space&gt;python&lt;space&gt;dict&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;List&lt;space&gt;attributes&lt;space&gt;are&lt;space&gt;tricky&lt;space&gt;because&lt;space&gt;they&lt;space&gt;are&lt;space&gt;presented&lt;space&gt;as&lt;space&gt;columns&lt;space&gt;rather&lt;space&gt;than&lt;space&gt;rows&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;entry&lt;space&gt;=&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;local_lists=&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;quote&gt;_templater_output_id&lt;quote&gt;&lt;comma&gt;&lt;space&gt;self.templater_output_id&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;att_names&lt;space&gt;=&lt;space&gt;feature.getAllAttributeNames&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;quote&gt;_templateFile&lt;quote&gt;&lt;space&gt;in&lt;space&gt;att_names:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.template_file&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;quote&gt;_templateFile&lt;quote&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;quote&gt;_workingDir&lt;quote&gt;&lt;space&gt;in&lt;space&gt;att_names:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.working_dir&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;quote&gt;_workingDir&lt;quote&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;quote&gt;_jinjaDataClass&lt;quote&gt;&lt;space&gt;in&lt;space&gt;att_names:&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;att&lt;space&gt;in&lt;space&gt;att_names:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.globals&lt;openbracket&gt;att&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;att&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;att&lt;space&gt;in&lt;space&gt;att_names:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;att_split&lt;space&gt;=&lt;space&gt;att.split&lt;openparen&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;len&lt;openparen&gt;att_split&lt;closeparen&gt;&lt;space&gt;&lt;gt&gt;&lt;space&gt;1:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;List&lt;space&gt;attribute&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;att_split&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;att_split&lt;openbracket&gt;0&lt;closebracket&gt;&lt;comma&gt;att_split&lt;openbracket&gt;1&lt;closebracket&gt;.split&lt;openparen&gt;&lt;apos&gt;.&lt;apos&gt;&lt;closeparen&gt;&lt;openbracket&gt;1&lt;closebracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;list_name&lt;space&gt;=&lt;space&gt;att_split&lt;openbracket&gt;0&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;field_name&lt;space&gt;=&lt;space&gt;att_split&lt;openbracket&gt;1&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;list_att_name&lt;space&gt;=&lt;space&gt;&lt;apos&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;opencurly&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;closecurly&gt;.&lt;opencurly&gt;&lt;closecurly&gt;&lt;apos&gt;.format&lt;openparen&gt;list_name&lt;comma&gt;&lt;space&gt;field_name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;values&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;list_att_name&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;list_name&lt;space&gt;not&lt;space&gt;in&lt;space&gt;local_lists:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;local_lists&lt;openbracket&gt;list_name&lt;closebracket&gt;&lt;space&gt;=&lt;openbracket&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;space&gt;for&lt;space&gt;_&lt;space&gt;in&lt;space&gt;values&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;idx&lt;comma&gt;&lt;space&gt;v&lt;space&gt;in&lt;space&gt;enumerate&lt;openparen&gt;values&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;local_lists&lt;openbracket&gt;list_name&lt;closebracket&gt;&lt;openbracket&gt;idx&lt;closebracket&gt;&lt;openbracket&gt;field_name&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;v&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;Regualr&lt;space&gt;attribute&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;entry&lt;openbracket&gt;att&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;att&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;Now&lt;space&gt;add&lt;space&gt;the&lt;space&gt;lists&lt;space&gt;of&lt;space&gt;dict&lt;space&gt;in&lt;space&gt;the&lt;space&gt;main&lt;space&gt;entry&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;list_name&lt;comma&gt;&lt;space&gt;value&lt;space&gt;in&lt;space&gt;local_lists.items&lt;openparen&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;entry&lt;openbracket&gt;list_name&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;value&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.data.append&lt;openparen&gt;entry&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.pyoutput&lt;openparen&gt;feature&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;close&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;global&lt;space&gt;templater_outputs&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;Install&lt;space&gt;jinja2&lt;space&gt;if&lt;space&gt;not&lt;space&gt;available&lt;space&gt;but&lt;space&gt;only&lt;space&gt;on&lt;space&gt;local&lt;space&gt;deployments&lt;space&gt;not&lt;space&gt;on&lt;space&gt;server&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;openparen&gt;FME_MacroValues&lt;openbracket&gt;&lt;apos&gt;FME_SERVER_HOST&lt;apos&gt;&lt;closebracket&gt;==&lt;apos&gt;&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;print&lt;openparen&gt;&lt;quote&gt;Running&lt;space&gt;on&lt;space&gt;desktop&lt;space&gt;machine&lt;quote&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#installed_pkgs&lt;space&gt;=&lt;space&gt;set&lt;openparen&gt;&lt;openbracket&gt;pkg.key&lt;space&gt;for&lt;space&gt;pkg&lt;space&gt;in&lt;space&gt;pip.get_installed_distributions&lt;openparen&gt;&lt;closeparen&gt;&lt;closebracket&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;installed_pkgs&lt;space&gt;=&lt;space&gt;sys.modules.keys&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;&lt;apos&gt;jinja2&lt;apos&gt;&lt;space&gt;not&lt;space&gt;in&lt;space&gt;installed_pkgs:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;print&lt;openparen&gt;&lt;quote&gt;Installing&lt;space&gt;jinja2&lt;quote&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;try:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#subprocess.call&lt;openparen&gt;&lt;openbracket&gt;&lt;quote&gt;pip&lt;quote&gt;&lt;comma&gt;&lt;space&gt;&lt;quote&gt;install&lt;quote&gt;&lt;comma&gt;&lt;quote&gt;target&lt;quote&gt;&lt;comma&gt;&lt;quote&gt;.&lt;quote&gt;&lt;space&gt;&lt;comma&gt;&lt;quote&gt;jinja2&lt;quote&gt;&lt;closebracket&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;int&lt;openparen&gt;pip.__version__.split&lt;openparen&gt;&lt;apos&gt;.&lt;apos&gt;&lt;closeparen&gt;&lt;openbracket&gt;0&lt;closebracket&gt;&lt;closeparen&gt;&lt;gt&gt;9:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;from&lt;space&gt;pip._internal&lt;space&gt;import&lt;space&gt;main&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;from&lt;space&gt;pip&lt;space&gt;import&lt;space&gt;main&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;main&lt;openparen&gt;&lt;openbracket&gt;&lt;quote&gt;install&lt;quote&gt;&lt;comma&gt;&lt;quote&gt;--user&lt;quote&gt;&lt;comma&gt;&lt;quote&gt;jinja2&lt;quote&gt;&lt;comma&gt;&lt;closebracket&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;except&lt;space&gt;SystemExit&lt;space&gt;as&lt;space&gt;e:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;print&lt;openparen&gt;e&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;sys.path.append&lt;openparen&gt;os.getcwd&lt;openparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;import&lt;space&gt;jinja2&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;self.template_file&lt;space&gt;is&lt;space&gt;None&lt;space&gt;or&lt;space&gt;len&lt;openparen&gt;self.data&lt;closeparen&gt;==0:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;loader&lt;space&gt;=&lt;space&gt;jinja2.FileSystemLoader&lt;openparen&gt;self.working_dir&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#with&lt;space&gt;open&lt;openparen&gt;pathlib.Path&lt;openparen&gt;self.working_dir&lt;comma&gt;&lt;space&gt;self.template_file&lt;closeparen&gt;&lt;closeparen&gt;&lt;space&gt;as&lt;space&gt;file_:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;template&lt;space&gt;=&lt;space&gt;jinja2.Template&lt;openparen&gt;file_.read&lt;openparen&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;try:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;env&lt;space&gt;=&lt;space&gt;jinja2.Environment&lt;openparen&gt;loader=loader&lt;comma&gt;&lt;space&gt;autoescape=jinja2.select_autoescape&lt;openparen&gt;&lt;openbracket&gt;&lt;apos&gt;xml&lt;apos&gt;&lt;comma&gt;&lt;apos&gt;gml&lt;apos&gt;&lt;closebracket&gt;&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;template&lt;space&gt;=&lt;space&gt;env.get_template&lt;openparen&gt;self.template_file&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;except&lt;space&gt;jinja2.TemplateNotFound&lt;space&gt;as&lt;space&gt;e:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;print&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Error&lt;space&gt;finding&lt;space&gt;Template!&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;--------------------------&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Error:&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Name:&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;.format&lt;openparen&gt;e.message&lt;comma&gt;&lt;space&gt;e.name&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;except&lt;space&gt;jinja2.TemplateSyntaxError&lt;space&gt;as&lt;space&gt;e:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;print&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Syntax&lt;space&gt;error&lt;space&gt;in&lt;space&gt;template!&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;--------------------------&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Error:&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;Name:&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;LineNo:&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;&lt;quote&gt;&lt;quote&gt;.format&lt;openparen&gt;e.message&lt;comma&gt;&lt;space&gt;e.name&lt;comma&gt;&lt;space&gt;e.lineno&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;return&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;templater_outputs&lt;openbracket&gt;self.templater_output_id&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;template.render&lt;openparen&gt;features&lt;space&gt;=&lt;space&gt;self.data&lt;comma&gt;&lt;space&gt;**self.globals&lt;closeparen&gt;&lt;lf&gt;"/>
#!     <XFORM_PARM PARM_NAME="PYTHONSYMBOL" PARM_VALUE="FeatureProcessor"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="PythonCaller"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="8"
#!   TYPE="FeatureHolder"
#!   VERSION="0"
#!   POSITION="1205.1800000000001 -2.5003099999999998"
#!   BOUNDING_RECT="1205.1800000000001 -2.5003099999999998 431 71"
#!   ORDER="500000000000000"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_jinjaDataClass" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_templateFile" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_workingDir" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_templater_output_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="FeatureHolder"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="9"
#!   TYPE="Sampler"
#!   VERSION="2"
#!   POSITION="1811.52 -2.5003099999999998"
#!   BOUNDING_RECT="1811.52 -2.5003099999999998 431 71"
#!   ORDER="500000000000000"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="SAMPLED"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_jinjaDataClass" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_templateFile" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_workingDir" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_templater_output_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <OUTPUT_FEAT NAME="NOT_SAMPLED"/>
#!     <FEAT_COLLAPSED COLLAPSED="1"/>
#!     <XFORM_ATTR ATTR_NAME="_jinjaDataClass" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_templateFile" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_workingDir" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_ATTR ATTR_NAME="_templater_output_id" IS_USER_CREATED="false" FEAT_INDEX="1" />
#!     <XFORM_PARM PARM_NAME="GROUP_BY" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="RATE" PARM_VALUE="1"/>
#!     <XFORM_PARM PARM_NAME="SAMPLE_MODE" PARM_VALUE="No"/>
#!     <XFORM_PARM PARM_NAME="SAMPLE_TYPE_LONG" PARM_VALUE="First N Features"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="FirstOnly"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="10"
#!   TYPE="AttributeKeeper"
#!   VERSION="3"
#!   POSITION="2520.3962427321949 -2.5003100000000131"
#!   BOUNDING_RECT="2520.3962427321949 -2.5003100000000131 431 71"
#!   ORDER="500000000000000"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="18520"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <XFORM_ATTR ATTR_NAME="_templater_output_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="KEEP_ATTRS" PARM_VALUE="_templater_output_id"/>
#!     <XFORM_PARM PARM_NAME="KEEP_LIST" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeKeeper"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="11"
#!   TYPE="PythonCaller"
#!   VERSION="4"
#!   POSITION="3158.9137572678051 -2.5003099999999998"
#!   BOUNDING_RECT="3158.9137572678051 -2.5003099999999998 431 71"
#!   ORDER="500000000000000"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="18520"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <XFORM_ATTR ATTR_NAME="_templater_output_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="html" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="ADVANCED_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="HIDE_ATTRIBUTES" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="NEW_ATTRIBUTES" PARM_VALUE="html"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PYTHONSOURCE" PARM_VALUE="import&lt;space&gt;fme&lt;lf&gt;import&lt;space&gt;fmeobjects&lt;lf&gt;&lt;lf&gt;def&lt;space&gt;processFeature&lt;openparen&gt;feature&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;global&lt;space&gt;templater_outputs&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;output_id&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;quote&gt;_templater_output_id&lt;quote&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;quote&gt;html&lt;quote&gt;&lt;comma&gt;&lt;space&gt;templater_outputs&lt;openbracket&gt;output_id&lt;closebracket&gt;&lt;closeparen&gt;"/>
#!     <XFORM_PARM PARM_NAME="PYTHONSYMBOL" PARM_VALUE="processFeature"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="WriteOutputHtml"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="12"
#!   TYPE="ParameterFetcher"
#!   VERSION="4"
#!   POSITION="-803.51046372347469 -163.5190798539698"
#!   BOUNDING_RECT="-803.51046372347469 -163.5190798539698 431 71"
#!   ORDER="500000000000000"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="18520"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_templateFile" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="_workingDir" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="ATTR_LIST" PARM_VALUE="_templateFile $(TEMPLATE_FILE) _workingDir $(FME_MF_DIR_USERTYPED)"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="ParameterFetcher"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="13"
#!   TYPE="AttributeRemover"
#!   VERSION="1"
#!   POSITION="3768.3499999999999 -2.5003099999999998"
#!   BOUNDING_RECT="3768.3499999999999 -2.5003099999999998 431 71"
#!   ORDER="500000000000000"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_templater_output_id" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="html" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="REMOVE_ATTRS" PARM_VALUE="_tempitaLocalId"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeRemover"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="14"
#!   TYPE="AttributeCreator"
#!   VERSION="8"
#!   POSITION="-831.20000000000005 62.750799999999998"
#!   BOUNDING_RECT="-831.20000000000005 62.750799999999998 431 71"
#!   ORDER="500000000000000"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="18520"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_jinjaDataClass" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_GRP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_HANDLING" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTR_TABLE" PARM_VALUE="&quot;&quot; _jinjaDataClass SET_TO globalKeyValue"/>
#!     <XFORM_PARM PARM_NAME="MULTI_FEATURE_MODE" PARM_VALUE="NO"/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_MODE_DISPLAY" PARM_VALUE="No Substitution"/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_VALUE" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="NUM_PRIOR_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="NUM_SUBSEQUENT_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeCreator"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="15"
#!   TYPE="AttributeCreator"
#!   VERSION="8"
#!   POSITION="-831.20000000000005 365.87900000000002"
#!   BOUNDING_RECT="-831.20000000000005 365.87900000000002 431 71"
#!   ORDER="500000000000000"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="18520"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="_jinjaDataClass" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_GRP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_HANDLING" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTR_TABLE" PARM_VALUE="&quot;&quot; _jinjaDataClass SET_TO globalFirstRow"/>
#!     <XFORM_PARM PARM_NAME="MULTI_FEATURE_MODE" PARM_VALUE="NO"/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_MODE_DISPLAY" PARM_VALUE="No Substitution"/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_VALUE" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="NUM_PRIOR_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="NUM_SUBSEQUENT_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeCreator_2"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="16"
#!   TYPE="Sampler"
#!   VERSION="2"
#!   POSITION="-1445.8162427321947 365.87900000000002"
#!   BOUNDING_RECT="-1445.8162427321947 365.87900000000002 431 71"
#!   ORDER="500000000000000"
#!   PARMS_EDITED="false"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="SAMPLED"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <OUTPUT_FEAT NAME="NOT_SAMPLED"/>
#!     <FEAT_COLLAPSED COLLAPSED="1"/>
#!     <XFORM_PARM PARM_NAME="GROUP_BY" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="RATE" PARM_VALUE="1"/>
#!     <XFORM_PARM PARM_NAME="SAMPLE_MODE" PARM_VALUE="No"/>
#!     <XFORM_PARM PARM_NAME="SAMPLE_TYPE_LONG" PARM_VALUE="First N Features"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="FirstRow"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="17"
#!   TYPE="Sampler"
#!   VERSION="2"
#!   POSITION="-1420.7953886549797 -300.00299999999999"
#!   BOUNDING_RECT="-1420.7953886549797 -300.00299999999999 431 71"
#!   ORDER="500000000000000"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="16177"
#! >
#!     <OUTPUT_FEAT NAME="SAMPLED"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <OUTPUT_FEAT NAME="NOT_SAMPLED"/>
#!     <FEAT_COLLAPSED COLLAPSED="1"/>
#!     <XFORM_PARM PARM_NAME="GROUP_BY" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="RATE" PARM_VALUE="1"/>
#!     <XFORM_PARM PARM_NAME="SAMPLE_MODE" PARM_VALUE="No"/>
#!     <XFORM_PARM PARM_NAME="SAMPLE_TYPE_LONG" PARM_VALUE="First N Features"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="FirstRow_2"/>
#! </TRANSFORMER>
#! </TRANSFORMERS>
#! <SUBDOCUMENT_IOS>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="2"
#!   NAME="Features"
#!   POSITION="-2142.4000000000001 -300.00299999999999"
#!   BOUNDING_RECT="-2142.4000000000001 -300.00299999999999 464.74900000000002 71"
#!   COLLAPSED="true"
#!   PUBLISHED="true"
#!   IS_SOURCE="true"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="3"
#!   NAME="Initiator"
#!   POSITION="1205.1800000000001 -522.50400000000002"
#!   BOUNDING_RECT="1205.1800000000001 -522.50400000000002 431 71"
#!   COLLAPSED="true"
#!   IS_SOURCE="false"
#!   ATTR_MODE="0"
#! >
#!     <XFORM_ATTR ATTR_NAME="contador" />
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="4"
#!   NAME="Html"
#!   POSITION="4401.6562427321951 -62.500310000000013"
#!   BOUNDING_RECT="4401.6562427321951 -62.500310000000013 431 71"
#!   COLLAPSED="true"
#!   IS_SOURCE="false"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="5"
#!   NAME="NameValuePairs"
#!   POSITION="-2181.27 62.750799999999998"
#!   BOUNDING_RECT="-2181.27 62.750799999999998 503.625 71"
#!   COLLAPSED="true"
#!   PUBLISHED="true"
#!   IS_SOURCE="true"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="6"
#!   NAME="FirstRowVariables"
#!   POSITION="-2181.27 365.87900000000002"
#!   BOUNDING_RECT="-2181.27 365.87900000000002 496.88099999999997 71"
#!   COLLAPSED="true"
#!   PUBLISHED="true"
#!   IS_SOURCE="true"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! </SUBDOCUMENT_IOS>
#! <FEAT_LINKS>
#! <FEAT_LINK
#!   IDENTIFIER="18"
#!   SOURCE_NODE="2"
#!   TARGET_NODE="17"
#!   SOURCE_PORT_DESC="0"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="19"
#!   SOURCE_NODE="5"
#!   TARGET_NODE="14"
#!   SOURCE_PORT_DESC="0"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="20"
#!   SOURCE_NODE="6"
#!   TARGET_NODE="16"
#!   SOURCE_PORT_DESC="0"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="21"
#!   SOURCE_NODE="7"
#!   TARGET_NODE="8"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="22"
#!   SOURCE_NODE="7"
#!   TARGET_NODE="3"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="0"
#!   ENABLED="true"
#!   EXECUTION_IDX="1"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="23"
#!   SOURCE_NODE="8"
#!   TARGET_NODE="9"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="24"
#!   SOURCE_NODE="9"
#!   TARGET_NODE="10"
#!   SOURCE_PORT_DESC="fo 0 SAMPLED"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="25"
#!   SOURCE_NODE="10"
#!   TARGET_NODE="11"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="26"
#!   SOURCE_NODE="11"
#!   TARGET_NODE="13"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="27"
#!   SOURCE_NODE="12"
#!   TARGET_NODE="7"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="28"
#!   SOURCE_NODE="13"
#!   TARGET_NODE="4"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="0"
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="29"
#!   SOURCE_NODE="14"
#!   TARGET_NODE="7"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="30"
#!   SOURCE_NODE="15"
#!   TARGET_NODE="7"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="31"
#!   SOURCE_NODE="16"
#!   TARGET_NODE="15"
#!   SOURCE_PORT_DESC="fo 0 SAMPLED"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="32"
#!   SOURCE_NODE="17"
#!   TARGET_NODE="12"
#!   SOURCE_PORT_DESC="fo 0 SAMPLED"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="33"
#!   SOURCE_NODE="17"
#!   TARGET_NODE="7"
#!   SOURCE_PORT_DESC="fo 1 NOT_SAMPLED"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! </FEAT_LINKS>
#! <BREAKPOINTS>
#! </BREAKPOINTS>
#! <ATTR_LINKS>
#! </ATTR_LINKS>
#! </SUBDOCUMENT>
#! </SUBDOCUMENTS>
#! <LOOKUP_TABLES>
#! </LOOKUP_TABLES>
#! </WORKSPACE>

FME_PYTHON_VERSION 36
DEFAULT_MACRO DB_CONNECTION EUReg
GUI NAMED_DB_CONNECTION_ENCODED DB_CONNECTION FMT:MSSQL_ADO%FAMILY:Microsoft<space>SQL<space>Server Connection:
DEFAULT_MACRO TOP_PERCENT_LIMIT 100
GUI OPTIONAL RANGE_SLIDER TOP_PERCENT_LIMIT "RANGE:[1,100]" Process only first percent of records:
DEFAULT_MACRO COUNTRY_CODE CZ
GUI TEXT COUNTRY_CODE Country Code:
DEFAULT_MACRO PRODUCTION_SITE_FILE ProductionSite.xml
GUI IGNORE OPTIONAL FILENAME PRODUCTION_SITE_FILE XML|.xml Production Site File:
DEFAULT_MACRO PRODUCTION_FACILITY_FILE ProductionFacility.xml
GUI IGNORE OPTIONAL FILENAME PRODUCTION_FACILITY_FILE Text/Compressed_Text_Files(*.txt;*.txt.gz)|*.txt;*.txt.gz|Text_Files(*.txt)|*.txt|Compressed_Text_Files(*.txt.gz)|*.txt.gz|All_Files|* Production Facility File:
DEFAULT_MACRO PRODUCTION_INSTALLATION_FILE ProductionInstallation.xml
GUI IGNORE OPTIONAL FILENAME PRODUCTION_INSTALLATION_FILE Text/Compressed_Text_Files(*.txt;*.txt.gz)|*.txt;*.txt.gz|Text_Files(*.txt)|*.txt|Compressed_Text_Files(*.txt.gz)|*.txt.gz|All_Files|* Production Installation File:
DEFAULT_MACRO PRODUCTION_INSTALLATION_PART_FILE ProductionInstallationPart.xml
GUI IGNORE OPTIONAL FILENAME PRODUCTION_INSTALLATION_PART_FILE Text/Compressed_Text_Files(*.txt;*.txt.gz)|*.txt;*.txt.gz|Text_Files(*.txt)|*.txt|Compressed_Text_Files(*.txt.gz)|*.txt.gz|All_Files|* Production Installation Part File:
DEFAULT_MACRO ZIP_PATH eu_registry_lookup_tables.zip
GUI IGNORE OPTIONAL FILE_ENCODED ZIP_PATH All_Files(*)|* Destination Zip File:
INCLUDE [ if {{$(DB_CONNECTION)} == {}} { puts_real {Parameter 'DB_CONNECTION' must be given a value.}; exit 1; }; ]
INCLUDE [ if {{$(COUNTRY_CODE)} == {}} { puts_real {Parameter 'COUNTRY_CODE' must be given a value.}; exit 1; }; ]
#! START_HEADER
#! START_WB_HEADER
READER_TYPE MULTI_READER
WRITER_TYPE NULL
WRITER_KEYWORD NULL_DEST
NULL_DEST_DATASET null
#! END_WB_HEADER
#! START_WB_HEADER
#! END_WB_HEADER
#! END_HEADER

LOG_FILENAME "$(FME_MF_DIR)EUReg_lookup_table_conversion_opt.log"
LOG_APPEND NO
LOG_FILTER_MASK -1
LOG_MAX_FEATURES 200
LOG_MAX_RECORDED_FEATURES 200
FME_REPROJECTION_ENGINE FME
FME_IMPLICIT_CSMAP_REPROJECTION_MODE Auto
FME_GEOMETRY_HANDLING Enhanced
FME_STROKE_MAX_DEVIATION 0
# -------------------------------------------------------------------------

MULTI_READER_CONTINUE_ON_READER_FAILURE No
FME_END_PYTHON_ENC <lf>#<space>Script<space>to<space>split<space>lookup<space>tables<space>into<space>separate<space>tables<space>per<space>country<lf><lf>

# -------------------------------------------------------------------------

MACRO WORKSPACE_NAME EUReg_lookup_table_conversion_opt
MACRO FME_VIEWER_APP fmedatainspector
DEFAULT_MACRO WB_CURRENT_CONTEXT
# -------------------------------------------------------------------------
Tcl2 proc Creator_CoordSysRemover {} {   global FME_CoordSys;   set FME_CoordSys {}; }
MACRO Creator_XML     NOT_ACTIVATED
MACRO Creator_CLASSIC NOT_ACTIVATED
MACRO Creator_2D3D    2D_GEOMETRY
MACRO Creator_COORDS  <Unused>
INCLUDE [ if { {Geometry Object} == {Geometry Object} } {            puts {MACRO Creator_XML *} } ]
INCLUDE [ if { {Geometry Object} == {2D Coordinate List} } {            puts {MACRO Creator_2D3D 2D_GEOMETRY};            puts {MACRO Creator_CLASSIC *} } ]
INCLUDE [ if { {Geometry Object} == {3D Coordinate List} } {            puts {MACRO Creator_2D3D 3D_GEOMETRY};            puts {MACRO Creator_CLASSIC *} } ]
INCLUDE [ if { {Geometry Object} == {2D Min/Max Box} } {            set comment {                We need to turn the COORDS which are                    minX minY maxX maxY                into a full polygon list of coordinates            };            set splitCoords [split [string trim {<Unused>}]];            if { [llength $splitCoords] > 4} {               set trimmedCoords {};               foreach item $splitCoords { if { $item != {} } {lappend trimmedCoords $item} };               set splitCoords $trimmedCoords;            };            if { [llength $splitCoords] != 4 } {                error {Creator: Coordinate list is expected to be a space delimited list of four numbers as 'minx miny maxx maxy' - `<Unused>' is invalid};            };            set minX [lindex $splitCoords 0];            set minY [lindex $splitCoords 1];            set maxX [lindex $splitCoords 2];            set maxY [lindex $splitCoords 3];            puts "MACRO Creator_COORDS $minX $minY $minX $maxY $maxX $maxY $maxX $minY $minX $minY";            puts {MACRO Creator_2D3D 2D_GEOMETRY};            puts {MACRO Creator_CLASSIC *} } ]
FACTORY_DEF $(Creator_XML) CreationFactory    FACTORY_NAME Creator_XML_Creator    CREATE_AT_END no    OUTPUT FEATURE_TYPE _____CREATED______        @Geometry(FROM_ENCODED_STRING,<lt>?xml<space>version=<quote>1.0<quote><space>encoding=<quote>US_ASCII<quote><space>standalone=<quote>no<quote><space>?<gt><lt>geometry<space>dimension=<quote>2<quote><gt><lt>null<solidus><gt><lt><solidus>geometry<gt>)
FACTORY_DEF $(Creator_CLASSIC) CreationFactory    FACTORY_NAME Creator_CLASSIC_Creator    $(Creator_2D3D) $(Creator_COORDS)    CREATE_AT_END no    OUTPUT FEATURE_TYPE _____CREATED______
FACTORY_DEF * TeeFactory    FACTORY_NAME Creator_Cloner    INPUT FEATURE_TYPE _____CREATED______        @Tcl2(Creator_CoordSysRemover)        @CoordSys()    NUMBER_OF_COPIES 1    COPY_NUMBER_ATTRIBUTE "_creation_instance"    OUTPUT FEATURE_TYPE Creator_CREATED        fme_feature_type Creator
FACTORY_DEF * BranchingFactory   FACTORY_NAME "Creator_CREATED Brancher -1 10"   INPUT FEATURE_TYPE Creator_CREATED   TARGET_FACTORY "$(WB_CURRENT_CONTEXT)_CREATOR_BRANCH_TARGET"   MAXIMUM_COUNT None   OUTPUT PASSED FEATURE_TYPE *
# -------------------------------------------------------------------------
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(WB_CURRENT_CONTEXT)_CREATOR_BRANCH_TARGET"   INPUT FEATURE_TYPE *  OUTPUT FEATURE_TYPE *
# -------------------------------------------------------------------------
MACRO SQLExecutor_DIRECTIVES CREATE_FEATURE_TABLES_FROM_DATA Yes NAMED_CONNECTION "$(DB_CONNECTION)" COMMAND_TIMEOUT 30 QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes
FACTORY_DEF * QueryFactory    FACTORY_NAME SQLExecutor    INPUT  FEATURE_TYPE Creator_CREATED    QUERY_SQL            "@EvaluateExpression(FDIV,STRING_ENCODED,select<space>TOP<openparen>$(TOP_PERCENT_LIMIT$encode)<closeparen>PERCENT<lf>countryCode<space>as<space>countryId<comma><lf>reportingYear<comma><lf>localId<space>as<space>inspireId_localId<comma><lf>namespace<space>as<space>inspireId_namespace<comma><lf>siteName<comma><lf>gmlId<comma><lf>x_4258<space>as<space>longitude<comma><lf>y_4258<space>as<space>latitude<space><lf>from<space>dbo.ProductionSite<lf>where<space>countryCode<space>=<space><apos>$(COUNTRY_CODE$encode)<apos>,SQLExecutor)"    READER_TYPE          MSSQL_ADO    READER_DATASET       "@EvaluateExpression(FDIV,STRING_ENCODED,$(DB_CONNECTION),SQLExecutor)"    COMBINE_ATTRIBUTES   RESULT_ONLY    COMBINE_GEOMETRY     QUERY_ONLY    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        $(SQLExecutor_DIRECTIVES)    OUTPUT RESULT FEATURE_TYPE SQLExecutor_RESULT        @SupplyAttributes(fme_feature_type,SQLExecutor)    OUTPUT QUERY FEATURE_TYPE SQLExecutor_INITIATOR    OUTPUT READER_ERROR FEATURE_TYPE SQLExecutor_<REJECTED>
FACTORY_DEF * TeeFactory   FACTORY_NAME "SQLExecutor INITIATOR Transformer Output Nuker"   INPUT FEATURE_TYPE SQLExecutor_INITIATOR
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME SQLExecutor_<Rejected> INPUT FEATURE_TYPE SQLExecutor_<REJECTED>  OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, SQLExecutor<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
FACTORY_DEF * TeeFactory   FACTORY_NAME "Jinja2Wrapper-PS Features Input Collector"   INPUT FEATURE_TYPE SQLExecutor_RESULT   OUTPUT FEATURE_TYPE Jinja2Wrapper-PS_Features
MACRO Jinja2Wrapper_WORKSPACE_NAME Jinja2Wrapper-PS
MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_XFORMER_NAME Jinja2Wrapper-PS
MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_TRANSFORMER_GROUP 
MACRO $(Jinja2Wrapper_WORKSPACE_NAME)___COMPOUND_PARAMETERS 
MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_SUB_DOC_NAME Jinja2Wrapper
MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_TEMPLATE_FILE production_site_template.jinja2.xml
DEFAULT_MACRO Jinja2Wrapper_WORKSPACE_NAME ""
INCLUDE [puts {MACRO WB_OLD_CONTEXT_$(Jinja2Wrapper_WORKSPACE_NAME) $(WB_CURRENT_CONTEXT)};          puts {MACRO WB_CURRENT_CONTEXT $(Jinja2Wrapper_WORKSPACE_NAME)}]
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_Features1571839439 Input Splitter"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_Features"   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_Features"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_NameValuePairs1571839439 Input Splitter"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_NameValuePairs"   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_NameValuePairs"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRowVariables1571839439 Input Splitter"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRowVariables"   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRowVariables"
# -------------------------------------------------------------------------
INCLUDE [ puts "MACRO REAL_RATE [expr 1 * -1 ]" ]
FACTORY_DEF {*} SamplingFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow    SAMPLE_RATE $(REAL_RATE)    SAMPLE_ORDER ORIGINAL    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRowVariables"    OUTPUT SAMPLED FEATURE_TYPE ___SAMPLED___
# This TeeFactory is needed because Sampler will still output features if it has no OUTPUT clauses specified.
# This way we behave nicely even if there are no output connections on the transformer. See PR#28886.
FACTORY_DEF * TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_Sampled    INPUT FEATURE_TYPE ___SAMPLED___    OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_SAMPLED"
# -------------------------------------------------------------------------
FACTORY_DEF {*} AttrSetFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator_2    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_SAMPLED"    MULTI_FEATURE_MODE NO    NULL_ATTR_MODE NO_OP     ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV     ATTR_ACTION { "" "_jinjaDataClass" "SET_TO" "globalFirstRow" }    OUTPUT OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator_2_OUTPUT"
# -------------------------------------------------------------------------
FACTORY_DEF {*} AttrSetFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_NameValuePairs"    MULTI_FEATURE_MODE NO    NULL_ATTR_MODE NO_OP     ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV     ATTR_ACTION { "" "_jinjaDataClass" "SET_TO" "globalKeyValue" }    OUTPUT OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator_OUTPUT"
# -------------------------------------------------------------------------
INCLUDE [ puts "MACRO REAL_RATE [expr 1 * -1 ]" ]
FACTORY_DEF {*} SamplingFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2    SAMPLE_RATE $(REAL_RATE)    SAMPLE_ORDER ORIGINAL    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_Features"    OUTPUT SAMPLED FEATURE_TYPE ___SAMPLED___    OUTPUT NOT_SAMPLED FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2_NOT_SAMPLED"
# This TeeFactory is needed because Sampler will still output features if it has no OUTPUT clauses specified.
# This way we behave nicely even if there are no output connections on the transformer. See PR#28886.
FACTORY_DEF * TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2_Sampled    INPUT FEATURE_TYPE ___SAMPLED___    OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2_SAMPLED"
# -------------------------------------------------------------------------
Tcl2 proc $(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher_doFetch {} {    foreach {name val} {"_templateFile {$($(Jinja2Wrapper_WORKSPACE_NAME)_TEMPLATE_FILE$encode)} _workingDir {$(FME_MF_DIR_USERTYPED$encode)}"} {         if { [string match {*<at>*} $val] == 1 } {             set val [FME_Execute EvaluateExpression {STRING} $val {$(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher}];         } elseif {[string match {*FME_CONDITIONAL*} $val] == 1} {             set val [FME_Execute EvaluateExpression {STRING} $val {$(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher}];         } else {             set val [FME_DecodeTextOrAttr $val];         };       FME_SetAttribute [FME_DecodeText $name] $val    } }
FACTORY_DEF * TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2_SAMPLED"    OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher_OUTPUT"         @Tcl2($(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher_doFetch)
# -------------------------------------------------------------------------
FME_PYTHON_PATH "$(FME_MF_DIR)"
FACTORY_DEF * PythonFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher_OUTPUT"    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator_OUTPUT"    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator_2_OUTPUT"    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2_NOT_SAMPLED"    SYMBOL_NAME FeatureProcessor    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE import<space>sys<lf>import<space>os<lf>import<space>pip<lf>import<space>uuid<lf>import<space>pathlib<lf>import<space>fme<lf>import<space>fmeobjects<lf>import<space>subprocess<lf><lf><lf>templater_outputs<space>=<space><opencurly><closecurly><lf><lf>class<space>FeatureProcessor<openparen>object<closeparen>:<lf><space><space><space><space>def<space>__init__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space>self.data<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space>self.templater_output_id<space>=<space>str<openparen>uuid.uuid1<openparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>self.globals<space>=<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space>self.template_file<space>=<space>None<lf><space><space><space><space><space><space><space><space>self.working_dir<space>=<space>None<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space>def<space>input<openparen>self<comma><space>feature<closeparen>:<lf><space><space><space><space><space><space><space><space>#<space>Need<space>to<space>transform<space>the<space>feature<space>with<space>its<space>list<space>attributes<space>in<space>a<space>python<space>dict<lf><space><space><space><space><space><space><space><space>#<space>List<space>attributes<space>are<space>tricky<space>because<space>they<space>are<space>presented<space>as<space>columns<space>rather<space>than<space>rows<lf><space><space><space><space><space><space><space><space>entry<space>=<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space>local_lists=<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><quote>_templater_output_id<quote><comma><space>self.templater_output_id<closeparen><lf><lf><space><space><space><space><space><space><space><space>att_names<space>=<space>feature.getAllAttributeNames<openparen><closeparen><lf><lf><space><space><space><space><space><space><space><space>if<space><quote>_templateFile<quote><space>in<space>att_names:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.template_file<space>=<space>feature.getAttribute<openparen><quote>_templateFile<quote><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>if<space><quote>_workingDir<quote><space>in<space>att_names:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.working_dir<space>=<space>feature.getAttribute<openparen><quote>_workingDir<quote><closeparen><lf><lf><space><space><space><space><space><space><space><space>if<space><quote>_jinjaDataClass<quote><space>in<space>att_names:<space><lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>att<space>in<space>att_names:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.globals<openbracket>att<closebracket><space>=<space>feature.getAttribute<openparen>att<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>return<lf><space><space><space><space><space><space><space><space><lf><lf><space><space><space><space><space><space><space><space>for<space>att<space>in<space>att_names:<lf><space><space><space><space><space><space><space><space><space><space><space><space>att_split<space>=<space>att.split<openparen><apos><opencurly><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>len<openparen>att_split<closeparen><space><gt><space>1:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>List<space>attribute<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>att_split<space>=<space><openbracket>att_split<openbracket>0<closebracket><comma>att_split<openbracket>1<closebracket>.split<openparen><apos>.<apos><closeparen><openbracket>1<closebracket><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>list_name<space>=<space>att_split<openbracket>0<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>field_name<space>=<space>att_split<openbracket>1<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>list_att_name<space>=<space><apos><opencurly><closecurly><opencurly><opencurly><closecurly><closecurly>.<opencurly><closecurly><apos>.format<openparen>list_name<comma><space>field_name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>values<space>=<space>feature.getAttribute<openparen>list_att_name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>list_name<space>not<space>in<space>local_lists:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>local_lists<openbracket>list_name<closebracket><space>=<openbracket><opencurly><closecurly><space>for<space>_<space>in<space>values<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>for<space>idx<comma><space>v<space>in<space>enumerate<openparen>values<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>local_lists<openbracket>list_name<closebracket><openbracket>idx<closebracket><openbracket>field_name<closebracket><space>=<space>v<lf><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Regualr<space>attribute<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>entry<openbracket>att<closebracket><space>=<space>feature.getAttribute<openparen>att<closeparen><lf><space><space><space><space><space><space><space><space>#<space>Now<space>add<space>the<space>lists<space>of<space>dict<space>in<space>the<space>main<space>entry<lf><space><space><space><space><space><space><space><space>for<space>list_name<comma><space>value<space>in<space>local_lists.items<openparen><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>entry<openbracket>list_name<closebracket><space>=<space>value<lf><space><space><space><space><space><space><space><space>self.data.append<openparen>entry<closeparen><lf><space><space><space><space><space><space><space><space>self.pyoutput<openparen>feature<closeparen><lf><lf><space><space><space><space>def<space>close<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space>global<space>templater_outputs<lf><space><space><space><space><space><space><space><space>#<space>Install<space>jinja2<space>if<space>not<space>available<space>but<space>only<space>on<space>local<space>deployments<space>not<space>on<space>server<lf><space><space><space><space><space><space><space><space>if<space><openparen>FME_MacroValues<openbracket><apos>FME_SERVER_HOST<apos><closebracket>==<apos><apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>print<openparen><quote>Running<space>on<space>desktop<space>machine<quote><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>#installed_pkgs<space>=<space>set<openparen><openbracket>pkg.key<space>for<space>pkg<space>in<space>pip.get_installed_distributions<openparen><closeparen><closebracket><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>installed_pkgs<space>=<space>sys.modules.keys<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space><apos>jinja2<apos><space>not<space>in<space>installed_pkgs:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>print<openparen><quote>Installing<space>jinja2<quote><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>#subprocess.call<openparen><openbracket><quote>pip<quote><comma><space><quote>install<quote><comma><quote>target<quote><comma><quote>.<quote><space><comma><quote>jinja2<quote><closebracket><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>int<openparen>pip.__version__.split<openparen><apos>.<apos><closeparen><openbracket>0<closebracket><closeparen><gt>9:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>from<space>pip._internal<space>import<space>main<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>from<space>pip<space>import<space>main<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>main<openparen><openbracket><quote>install<quote><comma><quote>--user<quote><comma><quote>jinja2<quote><comma><closebracket><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>except<space>SystemExit<space>as<space>e:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>print<openparen>e<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>sys.path.append<openparen>os.getcwd<openparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>import<space>jinja2<lf><lf><space><space><space><space><space><space><space><space>if<space>self.template_file<space>is<space>None<space>or<space>len<openparen>self.data<closeparen>==0:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>loader<space>=<space>jinja2.FileSystemLoader<openparen>self.working_dir<closeparen><lf><lf><space><space><space><space><space><space><space><space>#with<space>open<openparen>pathlib.Path<openparen>self.working_dir<comma><space>self.template_file<closeparen><closeparen><space>as<space>file_:<lf><space><space><space><space><space><space><space><space>#<space><space><space><space>template<space>=<space>jinja2.Template<openparen>file_.read<openparen><closeparen><closeparen><lf><lf><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space>env<space>=<space>jinja2.Environment<openparen>loader=loader<comma><space>autoescape=jinja2.select_autoescape<openparen><openbracket><apos>xml<apos><comma><apos>gml<apos><closebracket><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>template<space>=<space>env.get_template<openparen>self.template_file<closeparen><lf><space><space><space><space><space><space><space><space>except<space>jinja2.TemplateNotFound<space>as<space>e:<lf><space><space><space><space><space><space><space><space><space><space><space><space>print<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space>Error<space>finding<space>Template!<lf><space><space><space><space><space><space><space><space><space><space><space><space>--------------------------<lf><space><space><space><space><space><space><space><space><space><space><space><space>Error:<space><space><space><space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space><space><space><space><space>Name:<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space><space><space><space><space><quote><quote><quote>.format<openparen>e.message<comma><space>e.name<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>return<lf><space><space><space><space><space><space><space><space>except<space>jinja2.TemplateSyntaxError<space>as<space>e:<lf><space><space><space><space><space><space><space><space><space><space><space><space>print<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space>Syntax<space>error<space>in<space>template!<lf><space><space><space><space><space><space><space><space><space><space><space><space>--------------------------<lf><space><space><space><space><space><space><space><space><space><space><space><space>Error:<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space><space><space><space><space>Name:<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space><space><space><space><space>LineNo:<space><opencurly><closecurly><space><lf><space><space><space><space><space><space><space><space><space><space><space><space><quote><quote><quote>.format<openparen>e.message<comma><space>e.name<comma><space>e.lineno<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>return<lf><space><space><space><space><space><space><space><space>templater_outputs<openbracket>self.templater_output_id<closebracket><space>=<space>template.render<openparen>features<space>=<space>self.data<comma><space>**self.globals<closeparen><lf>    OUTPUT PYOUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller OUTPUT Splitter"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT"   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT_0_zQkpVC0M/eU="   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT_1_GzF4JOIEceU="
# -------------------------------------------------------------------------
FACTORY_DEF * SortFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FeatureHolder    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT_0_zQkpVC0M/eU="    OUTPUT SORTED FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FeatureHolder_OUTPUT"
# -------------------------------------------------------------------------
INCLUDE [ puts "MACRO REAL_RATE [expr 1 * -1 ]" ]
FACTORY_DEF {*} SamplingFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstOnly    SAMPLE_RATE $(REAL_RATE)    SAMPLE_ORDER ORIGINAL    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FeatureHolder_OUTPUT"    OUTPUT SAMPLED FEATURE_TYPE ___SAMPLED___
# This TeeFactory is needed because Sampler will still output features if it has no OUTPUT clauses specified.
# This way we behave nicely even if there are no output connections on the transformer. See PR#28886.
FACTORY_DEF * TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstOnly_Sampled    INPUT FEATURE_TYPE ___SAMPLED___    OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstOnly_SAMPLED"
# -------------------------------------------------------------------------
INCLUDE [    set macroLine "MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeKeeper_8f75e196_0e18_401d_ac56_04e727e4296f16_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF {*} TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeKeeper    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstOnly_SAMPLED"    OUTPUT { FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeKeeper_OUTPUT"        @KeepAttributes(fme_encoded,_templater_output_id,fme_pcre_match,"^fme_$($(Jinja2Wrapper_WORKSPACE_NAME)_AttributeKeeper_8f75e196_0e18_401d_ac56_04e727e4296f16_LIST_EXP)")         }
# -------------------------------------------------------------------------
FME_PYTHON_PATH "$(FME_MF_DIR)"
FACTORY_DEF * PythonFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_WriteOutputHtml    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeKeeper_OUTPUT"    SYMBOL_NAME processFeature    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE import<space>fme<lf>import<space>fmeobjects<lf><lf>def<space>processFeature<openparen>feature<closeparen>:<lf><space><space><space><space>global<space>templater_outputs<lf><space><space><space><space>output_id<space>=<space>feature.getAttribute<openparen><quote>_templater_output_id<quote><closeparen><lf><space><space><space><space>feature.setAttribute<openparen><quote>html<quote><comma><space>templater_outputs<openbracket>output_id<closebracket><closeparen>    OUTPUT PYOUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_WriteOutputHtml_OUTPUT"
# -------------------------------------------------------------------------
INCLUDE [    set macroLine "MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeRemover_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF {*} TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeRemover    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_WriteOutputHtml_OUTPUT"    OUTPUT { FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeRemover_OUTPUT"        @RemoveAttributes(fme_encoded,_tempitaLocalId)        @RemoveAttributes(fme_pcre_match"$($(Jinja2Wrapper_WORKSPACE_NAME)_AttributeRemover_LIST_EXP)")         }
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_Initiator1571839439 Output Collector"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT_1_GzF4JOIEceU="   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_Initiator"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_Html1571839439 Output Collector"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeRemover_OUTPUT"   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_Html"
INCLUDE [puts {MACRO WB_CURRENT_CONTEXT $(WB_OLD_CONTEXT_$(Jinja2Wrapper_WORKSPACE_NAME))}]
FACTORY_DEF * TeeFactory   FACTORY_NAME "Jinja2Wrapper-PS Html Output Renamer/Nuker"   INPUT FEATURE_TYPE Jinja2Wrapper-PS_Html   OUTPUT FEATURE_TYPE Jinja2Wrapper-PS_Html
FACTORY_DEF * TeeFactory   FACTORY_NAME "Jinja2Wrapper-PS Initiator Output Renamer/Nuker"   INPUT FEATURE_TYPE Jinja2Wrapper-PS_Initiator
# -------------------------------------------------------------------------
FACTORY_DEF {*} AttrSetFactory    FACTORY_NAME AttributeCreator_PSFile    COMMAND_PARM_EVALUATION SINGLE_PASS    INPUT  FEATURE_TYPE Jinja2Wrapper-PS_Html    MULTI_FEATURE_MODE NO    NULL_ATTR_MODE NO_OP     ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV     ATTR_ACTION { "" "ProductionSiteFile" "SET_TO" "$(COUNTRY_CODE$encode)_$(PRODUCTION_SITE_FILE$encode)" }    OUTPUT OUTPUT FEATURE_TYPE AttributeCreator_PSFile_OUTPUT
# -------------------------------------------------------------------------
FACTORY_DEF * AttrSetFactory FACTORY_NAME text_line_PS_file_8c8a816a_885b_472d_bd46_fd2710ca9f594 INPUT FEATURE_TYPE AttributeCreator_PSFile_OUTPUT MULTI_FEATURE_MODE NO NULL_ATTR_MODE NO_OP ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV ATTR text_line_data <at>Value<openparen>html<closeparen> OUTPUT OUTPUT FEATURE_TYPE *
INCLUDE [    puts {DEFAULT_MACRO FeatureWriterDataset_PS_file @EvaluateExpression(FDIV,STRING_ENCODED,<at>Value<openparen>ProductionSiteFile<closeparen>,PS_file)}; ]
FACTORY_DEF * WriterFactory    FACTORY_NAME PS_file    WRITER_TYPE TEXTLINE    WRITER_DATASET "$(FeatureWriterDataset_PS_file)"    WRITER_SETTINGS "RUNTIME_MACROS,OVERWRITE_FILE<comma>YES<comma>END_OF_LINE<comma>System<comma>WRITE_LAST_EOL<comma>YES<comma>ENCODING<comma>utf-8<comma>WRITE_UTF8_BOM<comma>YES<comma>MIME_TYPE<comma>text<solidus>plain<comma>DESTINATION_DATASETTYPE_VALIDATION<comma>Yes<comma>COORDINATE_SYSTEM_GRANULARITY<comma>FEATURE,METAFILE,TEXTLINE"    WRITER_METAFILE "ATTRIBUTE_CASE,ANY,ATTRIBUTE_INVALID_CHARS,,ATTRIBUTE_LENGTH,60,ATTR_TYPE_MAP,char<openparen>width<closeparen><comma>fme_varchar<openparen>width<closeparen><comma>char<openparen>width<closeparen><comma>fme_varbinary<openparen>width<closeparen><comma>char<openparen>width<closeparen><comma>fme_char<openparen>width<closeparen><comma>char<openparen>width<closeparen><comma>fme_binary<openparen>width<closeparen><comma>buffer<comma>fme_buffer<comma>buffer<comma>fme_binarybuffer<comma>buffer<comma>fme_xml<comma>buffer<comma>fme_json<comma>char<openparen>20<closeparen><comma>fme_datetime<comma>char<openparen>12<closeparen><comma>fme_time<comma>char<openparen>8<closeparen><comma>fme_date<comma><quote>number<openparen>31<comma>15<closeparen><quote><comma>fme_real64<comma><quote>number<openparen>15<comma>7<closeparen><quote><comma>fme_real32<comma><quote>number<openparen>11<comma>0<closeparen><quote><comma>fme_int32<comma><quote>number<openparen>11<comma>0<closeparen><quote><comma>fme_uint32<comma><quote>number<openparen>20<comma>0<closeparen><quote><comma>fme_int64<comma><quote>number<openparen>20<comma>0<closeparen><quote><comma>fme_uint64<comma>logical<comma>fme_boolean<comma><quote>number<openparen>6<comma>0<closeparen><quote><comma>fme_int16<comma><quote>number<openparen>6<comma>0<closeparen><quote><comma>fme_uint16<comma><quote>number<openparen>4<comma>0<closeparen><quote><comma>fme_int8<comma><quote>number<openparen>4<comma>0<closeparen><quote><comma>fme_uint8<comma><quote>number<openparen>width<comma>decimal<closeparen><quote><comma><quote>fme_decimal<openparen>width<comma>decimal<closeparen><quote>,DEST_ILLEGAL_ATTR_LIST,,FEATURE_TYPE_CASE,ANY,FEATURE_TYPE_INVALID_CHARS,,FEATURE_TYPE_LENGTH,0,FEATURE_TYPE_LENGTH_INCLUDES_PREFIX,false,FEATURE_TYPE_RESERVED_WORDS,,FORMAT_METAFILE,$(FME_HOME_ENCODED)metafile<backslash>TEXTLINE.fmf,FORMAT_NAME,TEXTLINE,GEOM_MAP,text_line_none<comma>fme_no_geom<comma>text_line_none<comma>fme_point<comma>text_line_none<comma>fme_line<comma>text_line_none<comma>fme_polygon<comma>text_line_none<comma>fme_text<comma>text_line_none<comma>fme_ellipse<comma>text_line_none<comma>fme_arc<comma>text_line_none<comma>fme_rectangle<comma>text_line_none<comma>fme_rounded_rectangle<comma>text_line_none<comma>fme_collection<comma>text_line_none<comma>fme_raster<comma>text_line_none<comma>fme_surface<comma>text_line_none<comma>fme_solid<comma>text_line_none<comma>fme_point_cloud<comma>text_line_none<comma>fme_feature_table,READER_ATTR_INDEX_TYPES,,SOURCE,no,SUPPORTS_FEAT_TYPE_FANOUT,no,SUPPORTS_MULTI_GEOM,yes,WORKBENCH_CANNED_SCHEMA,textline.sch,WRITER,TEXTLINE,WRITER_ATTR_INDEX_TYPES,,WRITER_DEFLINE_PARMS,,WRITER_DEF_LINE_TEMPLATE,<opencurly>FME_GEN_GROUP_NAME<closecurly>,WRITER_FORMAT_PARAMETER,READER_FEATURE_TYPE_EDITING<comma>NO<comma>WRITER_FEATURE_TYPE_EDITING<comma>NO<comma>MIME_TYPE<comma>text<solidus>plain<comma>DATASET_NAME<comma><quote>txt<space>file<quote><comma>FEATURE_TYPE_DEFAULT_NAME<comma>text_line<comma>READER_DATASET_HINT<comma><quote>Select<space>the<space>Text<space>file<openparen>s<closeparen><quote><comma>WRITER_DATASET_HINT<comma><quote>Specify<space>a<space>name<space>for<space>the<space>Text<space>file<quote>,WRITER_HAS_DEFLINE_ATTRS,yes"    WRITER_FEATURE_TYPES "text_line:text_line,ftp_feature_type_name,text_line,ftp_writer,TEXTLINE,ftp_dynamic_schema,no,ftp_dynamic_feature_type_name_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_geometry_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_schema_def_name_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_schema_sources,<lt>lt<gt>Unused<lt>gt<gt>,ftp_attribute_source,1,ftp_user_attributes,text_line_data<comma>buffer,ftp_user_attribute_values,<lt>lt<gt>at<lt>gt<gt>Value<lt>lt<gt>openparen<lt>gt<gt>html<lt>lt<gt>closeparen<lt>gt<gt>"    WRITER_PARAMS "COORDINATE_SYSTEM_GRANULARITY,FEATURE,OVERWRITE_FILE,YES,ENCODING,utf-8,WRITE_LAST_EOL,YES,MIME_TYPE,text<solidus>plain,DESTINATION_DATASETTYPE_VALIDATION,Yes,WRITE_UTF8_BOM,YES,END_OF_LINE,System"    DATASET_ATTR "_dataset"    FEATURE_TYPE_LIST_ATTR "_feature_type"    TOTAL_FEATURES_WRITTEN_ATTR "_total_features_written"    OUTPUT_PORTS ""    INPUT text_line FEATURE_TYPE AttributeCreator_PSFile_OUTPUT  @FeatureType(ENCODED,text_line)    OUTPUT SUMMARY FEATURE_TYPE PS_file_SUMMARY
# -------------------------------------------------------------------------
MACRO SQLExecutor_2_DIRECTIVES CREATE_FEATURE_TABLES_FROM_DATA Yes NAMED_CONNECTION "$(DB_CONNECTION)" COMMAND_TIMEOUT 30 QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes
FACTORY_DEF * QueryFactory    FACTORY_NAME SQLExecutor_2    INPUT  FEATURE_TYPE PS_file_SUMMARY    QUERY_SQL            "@EvaluateExpression(FDIV,STRING_ENCODED,select<space>TOP<openparen>$(TOP_PERCENT_LIMIT$encode)<closeparen>PERCENT<lf>pf.countryCode<space>as<space>countryId<comma><lf>pf.reportingYear<space>as<space>reportingYear<comma><lf>pf.localId<space>as<space>inspireId_localId<comma><lf>pf.namespace<space>as<space>inspireId_namespace<comma><lf>pf.gmlId<space>as<space>gmlId<comma><lf>pf.x_4258<space>as<space>longitude<comma><lf>pf.y_4258<space>as<space>latitude<comma><lf>pf.facilityName<space>as<space>facilityName<comma><lf>pf.parentCompanyName<space>as<space>parentCompanyName<comma><lf>pf.parentCompanyURL<space>as<space>parentCompanyURL<comma><lf>pf.parentCompanyConfidentiality<space>as<space>parentCompanyConfidentiality<comma><lf>ps.localId<space>as<space>hostingSite<comma><lf>pf.EPRTRAnnexIMainActivity<space>as<space>mainActivity<comma><lf>pf.status<space>as<space>status<lf>from<space>dbo.ProductionFacility<space>pf<space><lf>left<space>join<space>dbo.ProductionSite<space>ps<space><lf>on<space>pf.siteId<space>=<space>ps.id<lf>where<space>pf.countryCode<space>=<space><apos>$(COUNTRY_CODE$encode)<apos>,SQLExecutor_2)"    READER_TYPE          MSSQL_ADO    READER_DATASET       "@EvaluateExpression(FDIV,STRING_ENCODED,$(DB_CONNECTION),SQLExecutor_2)"    COMBINE_ATTRIBUTES   RESULT_ONLY    COMBINE_GEOMETRY     QUERY_ONLY    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        $(SQLExecutor_2_DIRECTIVES)    OUTPUT RESULT FEATURE_TYPE SQLExecutor_2_RESULT        @SupplyAttributes(fme_feature_type,SQLExecutor_2)    OUTPUT QUERY FEATURE_TYPE SQLExecutor_2_INITIATOR    OUTPUT READER_ERROR FEATURE_TYPE SQLExecutor_2_<REJECTED>
FACTORY_DEF * TeeFactory   FACTORY_NAME "SQLExecutor_2 INITIATOR Transformer Output Nuker"   INPUT FEATURE_TYPE SQLExecutor_2_INITIATOR
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME SQLExecutor_2_<Rejected> INPUT FEATURE_TYPE SQLExecutor_2_<REJECTED>  OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, SQLExecutor_2<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
FACTORY_DEF * TeeFactory   FACTORY_NAME "Jinja2Wrapper-PF Features Input Collector"   INPUT FEATURE_TYPE SQLExecutor_2_RESULT   OUTPUT FEATURE_TYPE Jinja2Wrapper-PF_Features
MACRO Jinja2Wrapper_WORKSPACE_NAME Jinja2Wrapper-PF
MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_XFORMER_NAME Jinja2Wrapper-PF
MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_TRANSFORMER_GROUP 
MACRO $(Jinja2Wrapper_WORKSPACE_NAME)___COMPOUND_PARAMETERS 
MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_SUB_DOC_NAME Jinja2Wrapper
MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_TEMPLATE_FILE production_facility_template.jinja2.xml
DEFAULT_MACRO Jinja2Wrapper_WORKSPACE_NAME ""
INCLUDE [puts {MACRO WB_OLD_CONTEXT_$(Jinja2Wrapper_WORKSPACE_NAME) $(WB_CURRENT_CONTEXT)};          puts {MACRO WB_CURRENT_CONTEXT $(Jinja2Wrapper_WORKSPACE_NAME)}]
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_Features1571839439 Input Splitter"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_Features"   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_Features"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_NameValuePairs1571839439 Input Splitter"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_NameValuePairs"   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_NameValuePairs"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRowVariables1571839439 Input Splitter"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRowVariables"   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRowVariables"
# -------------------------------------------------------------------------
INCLUDE [ puts "MACRO REAL_RATE [expr 1 * -1 ]" ]
FACTORY_DEF {*} SamplingFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow    SAMPLE_RATE $(REAL_RATE)    SAMPLE_ORDER ORIGINAL    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRowVariables"    OUTPUT SAMPLED FEATURE_TYPE ___SAMPLED___
# This TeeFactory is needed because Sampler will still output features if it has no OUTPUT clauses specified.
# This way we behave nicely even if there are no output connections on the transformer. See PR#28886.
FACTORY_DEF * TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_Sampled    INPUT FEATURE_TYPE ___SAMPLED___    OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_SAMPLED"
# -------------------------------------------------------------------------
FACTORY_DEF {*} AttrSetFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator_2    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_SAMPLED"    MULTI_FEATURE_MODE NO    NULL_ATTR_MODE NO_OP     ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV     ATTR_ACTION { "" "_jinjaDataClass" "SET_TO" "globalFirstRow" }    OUTPUT OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator_2_OUTPUT"
# -------------------------------------------------------------------------
FACTORY_DEF {*} AttrSetFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_NameValuePairs"    MULTI_FEATURE_MODE NO    NULL_ATTR_MODE NO_OP     ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV     ATTR_ACTION { "" "_jinjaDataClass" "SET_TO" "globalKeyValue" }    OUTPUT OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator_OUTPUT"
# -------------------------------------------------------------------------
INCLUDE [ puts "MACRO REAL_RATE [expr 1 * -1 ]" ]
FACTORY_DEF {*} SamplingFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2    SAMPLE_RATE $(REAL_RATE)    SAMPLE_ORDER ORIGINAL    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_Features"    OUTPUT SAMPLED FEATURE_TYPE ___SAMPLED___    OUTPUT NOT_SAMPLED FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2_NOT_SAMPLED"
# This TeeFactory is needed because Sampler will still output features if it has no OUTPUT clauses specified.
# This way we behave nicely even if there are no output connections on the transformer. See PR#28886.
FACTORY_DEF * TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2_Sampled    INPUT FEATURE_TYPE ___SAMPLED___    OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2_SAMPLED"
# -------------------------------------------------------------------------
Tcl2 proc $(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher_doFetch {} {    foreach {name val} {"_templateFile {$($(Jinja2Wrapper_WORKSPACE_NAME)_TEMPLATE_FILE$encode)} _workingDir {$(FME_MF_DIR_USERTYPED$encode)}"} {         if { [string match {*<at>*} $val] == 1 } {             set val [FME_Execute EvaluateExpression {STRING} $val {$(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher}];         } elseif {[string match {*FME_CONDITIONAL*} $val] == 1} {             set val [FME_Execute EvaluateExpression {STRING} $val {$(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher}];         } else {             set val [FME_DecodeTextOrAttr $val];         };       FME_SetAttribute [FME_DecodeText $name] $val    } }
FACTORY_DEF * TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2_SAMPLED"    OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher_OUTPUT"         @Tcl2($(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher_doFetch)
# -------------------------------------------------------------------------
FME_PYTHON_PATH "$(FME_MF_DIR)"
FACTORY_DEF * PythonFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher_OUTPUT"    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator_OUTPUT"    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator_2_OUTPUT"    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2_NOT_SAMPLED"    SYMBOL_NAME FeatureProcessor    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE import<space>sys<lf>import<space>os<lf>import<space>pip<lf>import<space>uuid<lf>import<space>pathlib<lf>import<space>fme<lf>import<space>fmeobjects<lf>import<space>subprocess<lf><lf><lf>templater_outputs<space>=<space><opencurly><closecurly><lf><lf>class<space>FeatureProcessor<openparen>object<closeparen>:<lf><space><space><space><space>def<space>__init__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space>self.data<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space>self.templater_output_id<space>=<space>str<openparen>uuid.uuid1<openparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>self.globals<space>=<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space>self.template_file<space>=<space>None<lf><space><space><space><space><space><space><space><space>self.working_dir<space>=<space>None<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space>def<space>input<openparen>self<comma><space>feature<closeparen>:<lf><space><space><space><space><space><space><space><space>#<space>Need<space>to<space>transform<space>the<space>feature<space>with<space>its<space>list<space>attributes<space>in<space>a<space>python<space>dict<lf><space><space><space><space><space><space><space><space>#<space>List<space>attributes<space>are<space>tricky<space>because<space>they<space>are<space>presented<space>as<space>columns<space>rather<space>than<space>rows<lf><space><space><space><space><space><space><space><space>entry<space>=<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space>local_lists=<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><quote>_templater_output_id<quote><comma><space>self.templater_output_id<closeparen><lf><lf><space><space><space><space><space><space><space><space>att_names<space>=<space>feature.getAllAttributeNames<openparen><closeparen><lf><lf><space><space><space><space><space><space><space><space>if<space><quote>_templateFile<quote><space>in<space>att_names:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.template_file<space>=<space>feature.getAttribute<openparen><quote>_templateFile<quote><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>if<space><quote>_workingDir<quote><space>in<space>att_names:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.working_dir<space>=<space>feature.getAttribute<openparen><quote>_workingDir<quote><closeparen><lf><lf><space><space><space><space><space><space><space><space>if<space><quote>_jinjaDataClass<quote><space>in<space>att_names:<space><lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>att<space>in<space>att_names:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.globals<openbracket>att<closebracket><space>=<space>feature.getAttribute<openparen>att<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>return<lf><space><space><space><space><space><space><space><space><lf><lf><space><space><space><space><space><space><space><space>for<space>att<space>in<space>att_names:<lf><space><space><space><space><space><space><space><space><space><space><space><space>att_split<space>=<space>att.split<openparen><apos><opencurly><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>len<openparen>att_split<closeparen><space><gt><space>1:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>List<space>attribute<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>att_split<space>=<space><openbracket>att_split<openbracket>0<closebracket><comma>att_split<openbracket>1<closebracket>.split<openparen><apos>.<apos><closeparen><openbracket>1<closebracket><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>list_name<space>=<space>att_split<openbracket>0<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>field_name<space>=<space>att_split<openbracket>1<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>list_att_name<space>=<space><apos><opencurly><closecurly><opencurly><opencurly><closecurly><closecurly>.<opencurly><closecurly><apos>.format<openparen>list_name<comma><space>field_name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>values<space>=<space>feature.getAttribute<openparen>list_att_name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>list_name<space>not<space>in<space>local_lists:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>local_lists<openbracket>list_name<closebracket><space>=<openbracket><opencurly><closecurly><space>for<space>_<space>in<space>values<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>for<space>idx<comma><space>v<space>in<space>enumerate<openparen>values<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>local_lists<openbracket>list_name<closebracket><openbracket>idx<closebracket><openbracket>field_name<closebracket><space>=<space>v<lf><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Regualr<space>attribute<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>entry<openbracket>att<closebracket><space>=<space>feature.getAttribute<openparen>att<closeparen><lf><space><space><space><space><space><space><space><space>#<space>Now<space>add<space>the<space>lists<space>of<space>dict<space>in<space>the<space>main<space>entry<lf><space><space><space><space><space><space><space><space>for<space>list_name<comma><space>value<space>in<space>local_lists.items<openparen><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>entry<openbracket>list_name<closebracket><space>=<space>value<lf><space><space><space><space><space><space><space><space>self.data.append<openparen>entry<closeparen><lf><space><space><space><space><space><space><space><space>self.pyoutput<openparen>feature<closeparen><lf><lf><space><space><space><space>def<space>close<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space>global<space>templater_outputs<lf><space><space><space><space><space><space><space><space>#<space>Install<space>jinja2<space>if<space>not<space>available<space>but<space>only<space>on<space>local<space>deployments<space>not<space>on<space>server<lf><space><space><space><space><space><space><space><space>if<space><openparen>FME_MacroValues<openbracket><apos>FME_SERVER_HOST<apos><closebracket>==<apos><apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>print<openparen><quote>Running<space>on<space>desktop<space>machine<quote><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>#installed_pkgs<space>=<space>set<openparen><openbracket>pkg.key<space>for<space>pkg<space>in<space>pip.get_installed_distributions<openparen><closeparen><closebracket><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>installed_pkgs<space>=<space>sys.modules.keys<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space><apos>jinja2<apos><space>not<space>in<space>installed_pkgs:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>print<openparen><quote>Installing<space>jinja2<quote><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>#subprocess.call<openparen><openbracket><quote>pip<quote><comma><space><quote>install<quote><comma><quote>target<quote><comma><quote>.<quote><space><comma><quote>jinja2<quote><closebracket><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>int<openparen>pip.__version__.split<openparen><apos>.<apos><closeparen><openbracket>0<closebracket><closeparen><gt>9:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>from<space>pip._internal<space>import<space>main<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>from<space>pip<space>import<space>main<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>main<openparen><openbracket><quote>install<quote><comma><quote>--user<quote><comma><quote>jinja2<quote><comma><closebracket><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>except<space>SystemExit<space>as<space>e:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>print<openparen>e<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>sys.path.append<openparen>os.getcwd<openparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>import<space>jinja2<lf><lf><space><space><space><space><space><space><space><space>if<space>self.template_file<space>is<space>None<space>or<space>len<openparen>self.data<closeparen>==0:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>loader<space>=<space>jinja2.FileSystemLoader<openparen>self.working_dir<closeparen><lf><lf><space><space><space><space><space><space><space><space>#with<space>open<openparen>pathlib.Path<openparen>self.working_dir<comma><space>self.template_file<closeparen><closeparen><space>as<space>file_:<lf><space><space><space><space><space><space><space><space>#<space><space><space><space>template<space>=<space>jinja2.Template<openparen>file_.read<openparen><closeparen><closeparen><lf><lf><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space>env<space>=<space>jinja2.Environment<openparen>loader=loader<comma><space>autoescape=jinja2.select_autoescape<openparen><openbracket><apos>xml<apos><comma><apos>gml<apos><closebracket><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>template<space>=<space>env.get_template<openparen>self.template_file<closeparen><lf><space><space><space><space><space><space><space><space>except<space>jinja2.TemplateNotFound<space>as<space>e:<lf><space><space><space><space><space><space><space><space><space><space><space><space>print<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space>Error<space>finding<space>Template!<lf><space><space><space><space><space><space><space><space><space><space><space><space>--------------------------<lf><space><space><space><space><space><space><space><space><space><space><space><space>Error:<space><space><space><space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space><space><space><space><space>Name:<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space><space><space><space><space><quote><quote><quote>.format<openparen>e.message<comma><space>e.name<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>return<lf><space><space><space><space><space><space><space><space>except<space>jinja2.TemplateSyntaxError<space>as<space>e:<lf><space><space><space><space><space><space><space><space><space><space><space><space>print<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space>Syntax<space>error<space>in<space>template!<lf><space><space><space><space><space><space><space><space><space><space><space><space>--------------------------<lf><space><space><space><space><space><space><space><space><space><space><space><space>Error:<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space><space><space><space><space>Name:<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space><space><space><space><space>LineNo:<space><opencurly><closecurly><space><lf><space><space><space><space><space><space><space><space><space><space><space><space><quote><quote><quote>.format<openparen>e.message<comma><space>e.name<comma><space>e.lineno<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>return<lf><space><space><space><space><space><space><space><space>templater_outputs<openbracket>self.templater_output_id<closebracket><space>=<space>template.render<openparen>features<space>=<space>self.data<comma><space>**self.globals<closeparen><lf>    OUTPUT PYOUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller OUTPUT Splitter"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT"   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT_0_zQkpVC0M/eU="   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT_1_GzF4JOIEceU="
# -------------------------------------------------------------------------
FACTORY_DEF * SortFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FeatureHolder    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT_0_zQkpVC0M/eU="    OUTPUT SORTED FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FeatureHolder_OUTPUT"
# -------------------------------------------------------------------------
INCLUDE [ puts "MACRO REAL_RATE [expr 1 * -1 ]" ]
FACTORY_DEF {*} SamplingFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstOnly    SAMPLE_RATE $(REAL_RATE)    SAMPLE_ORDER ORIGINAL    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FeatureHolder_OUTPUT"    OUTPUT SAMPLED FEATURE_TYPE ___SAMPLED___
# This TeeFactory is needed because Sampler will still output features if it has no OUTPUT clauses specified.
# This way we behave nicely even if there are no output connections on the transformer. See PR#28886.
FACTORY_DEF * TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstOnly_Sampled    INPUT FEATURE_TYPE ___SAMPLED___    OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstOnly_SAMPLED"
# -------------------------------------------------------------------------
INCLUDE [    set macroLine "MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeKeeper_8f75e196_0e18_401d_ac56_04e727e4296f17_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF {*} TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeKeeper    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstOnly_SAMPLED"    OUTPUT { FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeKeeper_OUTPUT"        @KeepAttributes(fme_encoded,_templater_output_id,fme_pcre_match,"^fme_$($(Jinja2Wrapper_WORKSPACE_NAME)_AttributeKeeper_8f75e196_0e18_401d_ac56_04e727e4296f17_LIST_EXP)")         }
# -------------------------------------------------------------------------
FME_PYTHON_PATH "$(FME_MF_DIR)"
FACTORY_DEF * PythonFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_WriteOutputHtml    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeKeeper_OUTPUT"    SYMBOL_NAME processFeature    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE import<space>fme<lf>import<space>fmeobjects<lf><lf>def<space>processFeature<openparen>feature<closeparen>:<lf><space><space><space><space>global<space>templater_outputs<lf><space><space><space><space>output_id<space>=<space>feature.getAttribute<openparen><quote>_templater_output_id<quote><closeparen><lf><space><space><space><space>feature.setAttribute<openparen><quote>html<quote><comma><space>templater_outputs<openbracket>output_id<closebracket><closeparen>    OUTPUT PYOUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_WriteOutputHtml_OUTPUT"
# -------------------------------------------------------------------------
INCLUDE [    set macroLine "MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeRemover_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF {*} TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeRemover    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_WriteOutputHtml_OUTPUT"    OUTPUT { FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeRemover_OUTPUT"        @RemoveAttributes(fme_encoded,_tempitaLocalId)        @RemoveAttributes(fme_pcre_match"$($(Jinja2Wrapper_WORKSPACE_NAME)_AttributeRemover_LIST_EXP)")         }
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_Initiator1571839439 Output Collector"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT_1_GzF4JOIEceU="   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_Initiator"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_Html1571839439 Output Collector"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeRemover_OUTPUT"   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_Html"
INCLUDE [puts {MACRO WB_CURRENT_CONTEXT $(WB_OLD_CONTEXT_$(Jinja2Wrapper_WORKSPACE_NAME))}]
FACTORY_DEF * TeeFactory   FACTORY_NAME "Jinja2Wrapper-PF Html Output Renamer/Nuker"   INPUT FEATURE_TYPE Jinja2Wrapper-PF_Html   OUTPUT FEATURE_TYPE Jinja2Wrapper-PF_Html
FACTORY_DEF * TeeFactory   FACTORY_NAME "Jinja2Wrapper-PF Initiator Output Renamer/Nuker"   INPUT FEATURE_TYPE Jinja2Wrapper-PF_Initiator
# -------------------------------------------------------------------------
FACTORY_DEF {*} AttrSetFactory    FACTORY_NAME AttributeCreator_PFFile    COMMAND_PARM_EVALUATION SINGLE_PASS    INPUT  FEATURE_TYPE Jinja2Wrapper-PF_Html    MULTI_FEATURE_MODE NO    NULL_ATTR_MODE NO_OP     ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV     ATTR_ACTION { "" "ProductionFacilityFile" "SET_TO" "$(COUNTRY_CODE$encode)_$(PRODUCTION_FACILITY_FILE$encode)" }    OUTPUT OUTPUT FEATURE_TYPE AttributeCreator_PFFile_OUTPUT
# -------------------------------------------------------------------------
FACTORY_DEF * AttrSetFactory FACTORY_NAME text_line_PF_File_4225e4a6_bfcf_4614_9459_4212d207859d4 INPUT FEATURE_TYPE AttributeCreator_PFFile_OUTPUT MULTI_FEATURE_MODE NO NULL_ATTR_MODE NO_OP ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV ATTR text_line_data <at>Value<openparen>html<closeparen> OUTPUT OUTPUT FEATURE_TYPE *
INCLUDE [    puts {DEFAULT_MACRO FeatureWriterDataset_PF_File @EvaluateExpression(FDIV,STRING_ENCODED,<at>Value<openparen>ProductionFacilityFile<closeparen>,PF_File)}; ]
FACTORY_DEF * WriterFactory    FACTORY_NAME PF_File    WRITER_TYPE TEXTLINE    WRITER_DATASET "$(FeatureWriterDataset_PF_File)"    WRITER_SETTINGS "RUNTIME_MACROS,OVERWRITE_FILE<comma>YES<comma>END_OF_LINE<comma>System<comma>WRITE_LAST_EOL<comma>YES<comma>ENCODING<comma>utf-8<comma>WRITE_UTF8_BOM<comma>YES<comma>MIME_TYPE<comma>text<solidus>plain<comma>DESTINATION_DATASETTYPE_VALIDATION<comma>Yes<comma>COORDINATE_SYSTEM_GRANULARITY<comma>FEATURE,METAFILE,TEXTLINE"    WRITER_METAFILE "ATTRIBUTE_CASE,ANY,ATTRIBUTE_INVALID_CHARS,,ATTRIBUTE_LENGTH,60,ATTR_TYPE_MAP,char<openparen>width<closeparen><comma>fme_varchar<openparen>width<closeparen><comma>char<openparen>width<closeparen><comma>fme_varbinary<openparen>width<closeparen><comma>char<openparen>width<closeparen><comma>fme_char<openparen>width<closeparen><comma>char<openparen>width<closeparen><comma>fme_binary<openparen>width<closeparen><comma>buffer<comma>fme_buffer<comma>buffer<comma>fme_binarybuffer<comma>buffer<comma>fme_xml<comma>buffer<comma>fme_json<comma>char<openparen>20<closeparen><comma>fme_datetime<comma>char<openparen>12<closeparen><comma>fme_time<comma>char<openparen>8<closeparen><comma>fme_date<comma><quote>number<openparen>31<comma>15<closeparen><quote><comma>fme_real64<comma><quote>number<openparen>15<comma>7<closeparen><quote><comma>fme_real32<comma><quote>number<openparen>11<comma>0<closeparen><quote><comma>fme_int32<comma><quote>number<openparen>11<comma>0<closeparen><quote><comma>fme_uint32<comma><quote>number<openparen>20<comma>0<closeparen><quote><comma>fme_int64<comma><quote>number<openparen>20<comma>0<closeparen><quote><comma>fme_uint64<comma>logical<comma>fme_boolean<comma><quote>number<openparen>6<comma>0<closeparen><quote><comma>fme_int16<comma><quote>number<openparen>6<comma>0<closeparen><quote><comma>fme_uint16<comma><quote>number<openparen>4<comma>0<closeparen><quote><comma>fme_int8<comma><quote>number<openparen>4<comma>0<closeparen><quote><comma>fme_uint8<comma><quote>number<openparen>width<comma>decimal<closeparen><quote><comma><quote>fme_decimal<openparen>width<comma>decimal<closeparen><quote>,DEST_ILLEGAL_ATTR_LIST,,FEATURE_TYPE_CASE,ANY,FEATURE_TYPE_INVALID_CHARS,,FEATURE_TYPE_LENGTH,0,FEATURE_TYPE_LENGTH_INCLUDES_PREFIX,false,FEATURE_TYPE_RESERVED_WORDS,,FORMAT_METAFILE,$(FME_HOME_ENCODED)metafile<backslash>TEXTLINE.fmf,FORMAT_NAME,TEXTLINE,GEOM_MAP,text_line_none<comma>fme_no_geom<comma>text_line_none<comma>fme_point<comma>text_line_none<comma>fme_line<comma>text_line_none<comma>fme_polygon<comma>text_line_none<comma>fme_text<comma>text_line_none<comma>fme_ellipse<comma>text_line_none<comma>fme_arc<comma>text_line_none<comma>fme_rectangle<comma>text_line_none<comma>fme_rounded_rectangle<comma>text_line_none<comma>fme_collection<comma>text_line_none<comma>fme_raster<comma>text_line_none<comma>fme_surface<comma>text_line_none<comma>fme_solid<comma>text_line_none<comma>fme_point_cloud<comma>text_line_none<comma>fme_feature_table,READER_ATTR_INDEX_TYPES,,SOURCE,no,SUPPORTS_FEAT_TYPE_FANOUT,no,SUPPORTS_MULTI_GEOM,yes,WORKBENCH_CANNED_SCHEMA,textline.sch,WRITER,TEXTLINE,WRITER_ATTR_INDEX_TYPES,,WRITER_DEFLINE_PARMS,,WRITER_DEF_LINE_TEMPLATE,<opencurly>FME_GEN_GROUP_NAME<closecurly>,WRITER_FORMAT_PARAMETER,READER_FEATURE_TYPE_EDITING<comma>NO<comma>WRITER_FEATURE_TYPE_EDITING<comma>NO<comma>MIME_TYPE<comma>text<solidus>plain<comma>DATASET_NAME<comma><quote>txt<space>file<quote><comma>FEATURE_TYPE_DEFAULT_NAME<comma>text_line<comma>READER_DATASET_HINT<comma><quote>Select<space>the<space>Text<space>file<openparen>s<closeparen><quote><comma>WRITER_DATASET_HINT<comma><quote>Specify<space>a<space>name<space>for<space>the<space>Text<space>file<quote>,WRITER_HAS_DEFLINE_ATTRS,yes"    WRITER_FEATURE_TYPES "text_line:text_line,ftp_feature_type_name,text_line,ftp_writer,TEXTLINE,ftp_dynamic_schema,no,ftp_dynamic_feature_type_name_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_geometry_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_schema_def_name_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_schema_sources,<lt>lt<gt>Unused<lt>gt<gt>,ftp_attribute_source,1,ftp_user_attributes,text_line_data<comma>buffer,ftp_user_attribute_values,<lt>lt<gt>at<lt>gt<gt>Value<lt>lt<gt>openparen<lt>gt<gt>html<lt>lt<gt>closeparen<lt>gt<gt>"    WRITER_PARAMS "COORDINATE_SYSTEM_GRANULARITY,FEATURE,OVERWRITE_FILE,YES,ENCODING,utf-8,WRITE_LAST_EOL,YES,MIME_TYPE,text<solidus>plain,DESTINATION_DATASETTYPE_VALIDATION,Yes,WRITE_UTF8_BOM,YES,END_OF_LINE,System"    DATASET_ATTR "_dataset"    FEATURE_TYPE_LIST_ATTR "_feature_type"    TOTAL_FEATURES_WRITTEN_ATTR "_total_features_written"    OUTPUT_PORTS ""    INPUT text_line FEATURE_TYPE AttributeCreator_PFFile_OUTPUT  @FeatureType(ENCODED,text_line)    OUTPUT SUMMARY FEATURE_TYPE PF_File_SUMMARY
# -------------------------------------------------------------------------
MACRO SQLExecutor_3_DIRECTIVES CREATE_FEATURE_TABLES_FROM_DATA Yes NAMED_CONNECTION "$(DB_CONNECTION)" COMMAND_TIMEOUT 30 QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes
FACTORY_DEF * QueryFactory    FACTORY_NAME SQLExecutor_3    INPUT  FEATURE_TYPE PF_File_SUMMARY    QUERY_SQL            "@EvaluateExpression(FDIV,STRING_ENCODED,select<space>TOP<openparen>$(TOP_PERCENT_LIMIT$encode)<closeparen>PERCENT<lf>pi.countryCode<space>as<space>countryId<comma><lf>pi.reportingYear<comma><lf>pi.localId<space>as<space>inspireId_localId<comma><lf>pi.namespace<space>as<space>inspireId_namespace<comma><lf>pi.gmlId<comma><lf>pi.x_4258<space>as<space>longitude<comma><lf>pi.y_4258<space>as<space>latitude<comma><lf>pi.installationName<comma><lf>pi.IEDAnnexIMainActivity<space>as<space>mainActivity<comma><lf>oa.otherActivities<space>as<space>otherActivities<comma><lf>pi.status<comma><lf>px.dateOfGrantings<comma><lf>px.permitURLs<lf>from<space>dbo.ProductionInstallation<space>pi<space>left<space>join<lf><openparen>select<space>installationId<comma><space>STRING_AGG<space><openparen>otherActivity<comma><space><apos><comma><apos><closeparen><space>as<space>otherActivities<lf>from<space>dbo.ProductionInstallationIEDOtherActivity<space>group<space>by<space>installationId<space><closeparen><space>oa<lf>on<space>oa.installationId<space>=<space>pi.id<lf>left<space>join<lf><openparen>select<space>installationId<comma><lf>STRING_AGG<space><openparen>ISNULL<openparen>convert<openparen>varchar<comma>dateOfGranting<comma>112<closeparen><comma><apos>NULL<apos><closeparen><comma><space><apos><comma><apos><closeparen><space>as<space>dateOfGrantings<comma><space><lf>STRING_AGG<space><openparen>ISNULL<openparen>permitURL<comma><apos>NULL<apos><closeparen><comma><space><apos><comma><apos><closeparen><space>as<space>permitURLs<lf>from<space>dbo.ProductionInstallationPermitDetails<space>group<space>by<space>installationId<closeparen><space>px<lf>on<space>px.installationId<space>=<space>pi.id<lf>where<space>pi.countryCode<space>=<space><apos>$(COUNTRY_CODE$encode)<apos>,SQLExecutor_3)"    READER_TYPE          MSSQL_ADO    READER_DATASET       "@EvaluateExpression(FDIV,STRING_ENCODED,$(DB_CONNECTION),SQLExecutor_3)"    COMBINE_ATTRIBUTES   RESULT_ONLY    COMBINE_GEOMETRY     QUERY_ONLY    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        $(SQLExecutor_3_DIRECTIVES)    OUTPUT RESULT FEATURE_TYPE SQLExecutor_3_RESULT        @SupplyAttributes(fme_feature_type,SQLExecutor_3)    OUTPUT QUERY FEATURE_TYPE SQLExecutor_3_INITIATOR    OUTPUT READER_ERROR FEATURE_TYPE SQLExecutor_3_<REJECTED>
FACTORY_DEF * TeeFactory   FACTORY_NAME "SQLExecutor_3 INITIATOR Transformer Output Nuker"   INPUT FEATURE_TYPE SQLExecutor_3_INITIATOR
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME SQLExecutor_3_<Rejected> INPUT FEATURE_TYPE SQLExecutor_3_<REJECTED>  OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, SQLExecutor_3<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
FACTORY_DEF * TeeFactory   FACTORY_NAME "Jinja2Wrapper-PI Features Input Collector"   INPUT FEATURE_TYPE SQLExecutor_3_RESULT   OUTPUT FEATURE_TYPE Jinja2Wrapper-PI_Features
MACRO Jinja2Wrapper_WORKSPACE_NAME Jinja2Wrapper-PI
MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_XFORMER_NAME Jinja2Wrapper-PI
MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_TRANSFORMER_GROUP 
MACRO $(Jinja2Wrapper_WORKSPACE_NAME)___COMPOUND_PARAMETERS 
MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_SUB_DOC_NAME Jinja2Wrapper
MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_TEMPLATE_FILE production_installation_template.jinja2.xml
DEFAULT_MACRO Jinja2Wrapper_WORKSPACE_NAME ""
INCLUDE [puts {MACRO WB_OLD_CONTEXT_$(Jinja2Wrapper_WORKSPACE_NAME) $(WB_CURRENT_CONTEXT)};          puts {MACRO WB_CURRENT_CONTEXT $(Jinja2Wrapper_WORKSPACE_NAME)}]
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_Features1571839439 Input Splitter"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_Features"   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_Features"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_NameValuePairs1571839439 Input Splitter"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_NameValuePairs"   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_NameValuePairs"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRowVariables1571839439 Input Splitter"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRowVariables"   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRowVariables"
# -------------------------------------------------------------------------
INCLUDE [ puts "MACRO REAL_RATE [expr 1 * -1 ]" ]
FACTORY_DEF {*} SamplingFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow    SAMPLE_RATE $(REAL_RATE)    SAMPLE_ORDER ORIGINAL    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRowVariables"    OUTPUT SAMPLED FEATURE_TYPE ___SAMPLED___
# This TeeFactory is needed because Sampler will still output features if it has no OUTPUT clauses specified.
# This way we behave nicely even if there are no output connections on the transformer. See PR#28886.
FACTORY_DEF * TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_Sampled    INPUT FEATURE_TYPE ___SAMPLED___    OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_SAMPLED"
# -------------------------------------------------------------------------
FACTORY_DEF {*} AttrSetFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator_2    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_SAMPLED"    MULTI_FEATURE_MODE NO    NULL_ATTR_MODE NO_OP     ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV     ATTR_ACTION { "" "_jinjaDataClass" "SET_TO" "globalFirstRow" }    OUTPUT OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator_2_OUTPUT"
# -------------------------------------------------------------------------
FACTORY_DEF {*} AttrSetFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_NameValuePairs"    MULTI_FEATURE_MODE NO    NULL_ATTR_MODE NO_OP     ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV     ATTR_ACTION { "" "_jinjaDataClass" "SET_TO" "globalKeyValue" }    OUTPUT OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator_OUTPUT"
# -------------------------------------------------------------------------
INCLUDE [ puts "MACRO REAL_RATE [expr 1 * -1 ]" ]
FACTORY_DEF {*} SamplingFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2    SAMPLE_RATE $(REAL_RATE)    SAMPLE_ORDER ORIGINAL    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_Features"    OUTPUT SAMPLED FEATURE_TYPE ___SAMPLED___    OUTPUT NOT_SAMPLED FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2_NOT_SAMPLED"
# This TeeFactory is needed because Sampler will still output features if it has no OUTPUT clauses specified.
# This way we behave nicely even if there are no output connections on the transformer. See PR#28886.
FACTORY_DEF * TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2_Sampled    INPUT FEATURE_TYPE ___SAMPLED___    OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2_SAMPLED"
# -------------------------------------------------------------------------
Tcl2 proc $(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher_doFetch {} {    foreach {name val} {"_templateFile {$($(Jinja2Wrapper_WORKSPACE_NAME)_TEMPLATE_FILE$encode)} _workingDir {$(FME_MF_DIR_USERTYPED$encode)}"} {         if { [string match {*<at>*} $val] == 1 } {             set val [FME_Execute EvaluateExpression {STRING} $val {$(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher}];         } elseif {[string match {*FME_CONDITIONAL*} $val] == 1} {             set val [FME_Execute EvaluateExpression {STRING} $val {$(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher}];         } else {             set val [FME_DecodeTextOrAttr $val];         };       FME_SetAttribute [FME_DecodeText $name] $val    } }
FACTORY_DEF * TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2_SAMPLED"    OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher_OUTPUT"         @Tcl2($(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher_doFetch)
# -------------------------------------------------------------------------
FME_PYTHON_PATH "$(FME_MF_DIR)"
FACTORY_DEF * PythonFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher_OUTPUT"    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator_OUTPUT"    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator_2_OUTPUT"    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2_NOT_SAMPLED"    SYMBOL_NAME FeatureProcessor    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE import<space>sys<lf>import<space>os<lf>import<space>pip<lf>import<space>uuid<lf>import<space>pathlib<lf>import<space>fme<lf>import<space>fmeobjects<lf>import<space>subprocess<lf><lf><lf>templater_outputs<space>=<space><opencurly><closecurly><lf><lf>class<space>FeatureProcessor<openparen>object<closeparen>:<lf><space><space><space><space>def<space>__init__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space>self.data<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space>self.templater_output_id<space>=<space>str<openparen>uuid.uuid1<openparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>self.globals<space>=<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space>self.template_file<space>=<space>None<lf><space><space><space><space><space><space><space><space>self.working_dir<space>=<space>None<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space>def<space>input<openparen>self<comma><space>feature<closeparen>:<lf><space><space><space><space><space><space><space><space>#<space>Need<space>to<space>transform<space>the<space>feature<space>with<space>its<space>list<space>attributes<space>in<space>a<space>python<space>dict<lf><space><space><space><space><space><space><space><space>#<space>List<space>attributes<space>are<space>tricky<space>because<space>they<space>are<space>presented<space>as<space>columns<space>rather<space>than<space>rows<lf><space><space><space><space><space><space><space><space>entry<space>=<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space>local_lists=<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><quote>_templater_output_id<quote><comma><space>self.templater_output_id<closeparen><lf><lf><space><space><space><space><space><space><space><space>att_names<space>=<space>feature.getAllAttributeNames<openparen><closeparen><lf><lf><space><space><space><space><space><space><space><space>if<space><quote>_templateFile<quote><space>in<space>att_names:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.template_file<space>=<space>feature.getAttribute<openparen><quote>_templateFile<quote><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>if<space><quote>_workingDir<quote><space>in<space>att_names:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.working_dir<space>=<space>feature.getAttribute<openparen><quote>_workingDir<quote><closeparen><lf><lf><space><space><space><space><space><space><space><space>if<space><quote>_jinjaDataClass<quote><space>in<space>att_names:<space><lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>att<space>in<space>att_names:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.globals<openbracket>att<closebracket><space>=<space>feature.getAttribute<openparen>att<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>return<lf><space><space><space><space><space><space><space><space><lf><lf><space><space><space><space><space><space><space><space>for<space>att<space>in<space>att_names:<lf><space><space><space><space><space><space><space><space><space><space><space><space>att_split<space>=<space>att.split<openparen><apos><opencurly><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>len<openparen>att_split<closeparen><space><gt><space>1:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>List<space>attribute<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>att_split<space>=<space><openbracket>att_split<openbracket>0<closebracket><comma>att_split<openbracket>1<closebracket>.split<openparen><apos>.<apos><closeparen><openbracket>1<closebracket><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>list_name<space>=<space>att_split<openbracket>0<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>field_name<space>=<space>att_split<openbracket>1<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>list_att_name<space>=<space><apos><opencurly><closecurly><opencurly><opencurly><closecurly><closecurly>.<opencurly><closecurly><apos>.format<openparen>list_name<comma><space>field_name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>values<space>=<space>feature.getAttribute<openparen>list_att_name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>list_name<space>not<space>in<space>local_lists:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>local_lists<openbracket>list_name<closebracket><space>=<openbracket><opencurly><closecurly><space>for<space>_<space>in<space>values<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>for<space>idx<comma><space>v<space>in<space>enumerate<openparen>values<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>local_lists<openbracket>list_name<closebracket><openbracket>idx<closebracket><openbracket>field_name<closebracket><space>=<space>v<lf><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Regualr<space>attribute<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>entry<openbracket>att<closebracket><space>=<space>feature.getAttribute<openparen>att<closeparen><lf><space><space><space><space><space><space><space><space>#<space>Now<space>add<space>the<space>lists<space>of<space>dict<space>in<space>the<space>main<space>entry<lf><space><space><space><space><space><space><space><space>for<space>list_name<comma><space>value<space>in<space>local_lists.items<openparen><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>entry<openbracket>list_name<closebracket><space>=<space>value<lf><space><space><space><space><space><space><space><space>self.data.append<openparen>entry<closeparen><lf><space><space><space><space><space><space><space><space>self.pyoutput<openparen>feature<closeparen><lf><lf><space><space><space><space>def<space>close<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space>global<space>templater_outputs<lf><space><space><space><space><space><space><space><space>#<space>Install<space>jinja2<space>if<space>not<space>available<space>but<space>only<space>on<space>local<space>deployments<space>not<space>on<space>server<lf><space><space><space><space><space><space><space><space>if<space><openparen>FME_MacroValues<openbracket><apos>FME_SERVER_HOST<apos><closebracket>==<apos><apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>print<openparen><quote>Running<space>on<space>desktop<space>machine<quote><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>#installed_pkgs<space>=<space>set<openparen><openbracket>pkg.key<space>for<space>pkg<space>in<space>pip.get_installed_distributions<openparen><closeparen><closebracket><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>installed_pkgs<space>=<space>sys.modules.keys<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space><apos>jinja2<apos><space>not<space>in<space>installed_pkgs:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>print<openparen><quote>Installing<space>jinja2<quote><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>#subprocess.call<openparen><openbracket><quote>pip<quote><comma><space><quote>install<quote><comma><quote>target<quote><comma><quote>.<quote><space><comma><quote>jinja2<quote><closebracket><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>int<openparen>pip.__version__.split<openparen><apos>.<apos><closeparen><openbracket>0<closebracket><closeparen><gt>9:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>from<space>pip._internal<space>import<space>main<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>from<space>pip<space>import<space>main<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>main<openparen><openbracket><quote>install<quote><comma><quote>--user<quote><comma><quote>jinja2<quote><comma><closebracket><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>except<space>SystemExit<space>as<space>e:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>print<openparen>e<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>sys.path.append<openparen>os.getcwd<openparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>import<space>jinja2<lf><lf><space><space><space><space><space><space><space><space>if<space>self.template_file<space>is<space>None<space>or<space>len<openparen>self.data<closeparen>==0:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>loader<space>=<space>jinja2.FileSystemLoader<openparen>self.working_dir<closeparen><lf><lf><space><space><space><space><space><space><space><space>#with<space>open<openparen>pathlib.Path<openparen>self.working_dir<comma><space>self.template_file<closeparen><closeparen><space>as<space>file_:<lf><space><space><space><space><space><space><space><space>#<space><space><space><space>template<space>=<space>jinja2.Template<openparen>file_.read<openparen><closeparen><closeparen><lf><lf><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space>env<space>=<space>jinja2.Environment<openparen>loader=loader<comma><space>autoescape=jinja2.select_autoescape<openparen><openbracket><apos>xml<apos><comma><apos>gml<apos><closebracket><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>template<space>=<space>env.get_template<openparen>self.template_file<closeparen><lf><space><space><space><space><space><space><space><space>except<space>jinja2.TemplateNotFound<space>as<space>e:<lf><space><space><space><space><space><space><space><space><space><space><space><space>print<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space>Error<space>finding<space>Template!<lf><space><space><space><space><space><space><space><space><space><space><space><space>--------------------------<lf><space><space><space><space><space><space><space><space><space><space><space><space>Error:<space><space><space><space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space><space><space><space><space>Name:<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space><space><space><space><space><quote><quote><quote>.format<openparen>e.message<comma><space>e.name<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>return<lf><space><space><space><space><space><space><space><space>except<space>jinja2.TemplateSyntaxError<space>as<space>e:<lf><space><space><space><space><space><space><space><space><space><space><space><space>print<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space>Syntax<space>error<space>in<space>template!<lf><space><space><space><space><space><space><space><space><space><space><space><space>--------------------------<lf><space><space><space><space><space><space><space><space><space><space><space><space>Error:<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space><space><space><space><space>Name:<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space><space><space><space><space>LineNo:<space><opencurly><closecurly><space><lf><space><space><space><space><space><space><space><space><space><space><space><space><quote><quote><quote>.format<openparen>e.message<comma><space>e.name<comma><space>e.lineno<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>return<lf><space><space><space><space><space><space><space><space>templater_outputs<openbracket>self.templater_output_id<closebracket><space>=<space>template.render<openparen>features<space>=<space>self.data<comma><space>**self.globals<closeparen><lf>    OUTPUT PYOUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller OUTPUT Splitter"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT"   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT_0_zQkpVC0M/eU="   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT_1_GzF4JOIEceU="
# -------------------------------------------------------------------------
FACTORY_DEF * SortFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FeatureHolder    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT_0_zQkpVC0M/eU="    OUTPUT SORTED FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FeatureHolder_OUTPUT"
# -------------------------------------------------------------------------
INCLUDE [ puts "MACRO REAL_RATE [expr 1 * -1 ]" ]
FACTORY_DEF {*} SamplingFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstOnly    SAMPLE_RATE $(REAL_RATE)    SAMPLE_ORDER ORIGINAL    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FeatureHolder_OUTPUT"    OUTPUT SAMPLED FEATURE_TYPE ___SAMPLED___
# This TeeFactory is needed because Sampler will still output features if it has no OUTPUT clauses specified.
# This way we behave nicely even if there are no output connections on the transformer. See PR#28886.
FACTORY_DEF * TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstOnly_Sampled    INPUT FEATURE_TYPE ___SAMPLED___    OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstOnly_SAMPLED"
# -------------------------------------------------------------------------
INCLUDE [    set macroLine "MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeKeeper_8f75e196_0e18_401d_ac56_04e727e4296f18_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF {*} TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeKeeper    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstOnly_SAMPLED"    OUTPUT { FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeKeeper_OUTPUT"        @KeepAttributes(fme_encoded,_templater_output_id,fme_pcre_match,"^fme_$($(Jinja2Wrapper_WORKSPACE_NAME)_AttributeKeeper_8f75e196_0e18_401d_ac56_04e727e4296f18_LIST_EXP)")         }
# -------------------------------------------------------------------------
FME_PYTHON_PATH "$(FME_MF_DIR)"
FACTORY_DEF * PythonFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_WriteOutputHtml    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeKeeper_OUTPUT"    SYMBOL_NAME processFeature    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE import<space>fme<lf>import<space>fmeobjects<lf><lf>def<space>processFeature<openparen>feature<closeparen>:<lf><space><space><space><space>global<space>templater_outputs<lf><space><space><space><space>output_id<space>=<space>feature.getAttribute<openparen><quote>_templater_output_id<quote><closeparen><lf><space><space><space><space>feature.setAttribute<openparen><quote>html<quote><comma><space>templater_outputs<openbracket>output_id<closebracket><closeparen>    OUTPUT PYOUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_WriteOutputHtml_OUTPUT"
# -------------------------------------------------------------------------
INCLUDE [    set macroLine "MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeRemover_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF {*} TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeRemover    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_WriteOutputHtml_OUTPUT"    OUTPUT { FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeRemover_OUTPUT"        @RemoveAttributes(fme_encoded,_tempitaLocalId)        @RemoveAttributes(fme_pcre_match"$($(Jinja2Wrapper_WORKSPACE_NAME)_AttributeRemover_LIST_EXP)")         }
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_Initiator1571839439 Output Collector"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT_1_GzF4JOIEceU="   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_Initiator"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_Html1571839439 Output Collector"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeRemover_OUTPUT"   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_Html"
INCLUDE [puts {MACRO WB_CURRENT_CONTEXT $(WB_OLD_CONTEXT_$(Jinja2Wrapper_WORKSPACE_NAME))}]
FACTORY_DEF * TeeFactory   FACTORY_NAME "Jinja2Wrapper-PI Html Output Renamer/Nuker"   INPUT FEATURE_TYPE Jinja2Wrapper-PI_Html   OUTPUT FEATURE_TYPE Jinja2Wrapper-PI_Html
FACTORY_DEF * TeeFactory   FACTORY_NAME "Jinja2Wrapper-PI Initiator Output Renamer/Nuker"   INPUT FEATURE_TYPE Jinja2Wrapper-PI_Initiator
# -------------------------------------------------------------------------
FACTORY_DEF {*} AttrSetFactory    FACTORY_NAME AttributeCreator_PIFile    COMMAND_PARM_EVALUATION SINGLE_PASS    INPUT  FEATURE_TYPE Jinja2Wrapper-PI_Html    MULTI_FEATURE_MODE NO    NULL_ATTR_MODE NO_OP     ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV     ATTR_ACTION { "" "ProductionInstallationFile" "SET_TO" "$(COUNTRY_CODE$encode)_$(PRODUCTION_INSTALLATION_FILE$encode)" }    OUTPUT OUTPUT FEATURE_TYPE AttributeCreator_PIFile_OUTPUT
# -------------------------------------------------------------------------
FACTORY_DEF * AttrSetFactory FACTORY_NAME text_line_PI_File_5bfe1776_20dd_4f6f_b0a3_c259924727654 INPUT FEATURE_TYPE AttributeCreator_PIFile_OUTPUT MULTI_FEATURE_MODE NO NULL_ATTR_MODE NO_OP ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV ATTR text_line_data <at>Value<openparen>html<closeparen> OUTPUT OUTPUT FEATURE_TYPE *
INCLUDE [    puts {DEFAULT_MACRO FeatureWriterDataset_PI_File @EvaluateExpression(FDIV,STRING_ENCODED,<at>Value<openparen>ProductionInstallationFile<closeparen>,PI_File)}; ]
FACTORY_DEF * WriterFactory    FACTORY_NAME PI_File    WRITER_TYPE TEXTLINE    WRITER_DATASET "$(FeatureWriterDataset_PI_File)"    WRITER_SETTINGS "RUNTIME_MACROS,OVERWRITE_FILE<comma>YES<comma>END_OF_LINE<comma>System<comma>WRITE_LAST_EOL<comma>YES<comma>ENCODING<comma>utf-8<comma>WRITE_UTF8_BOM<comma>YES<comma>MIME_TYPE<comma>text<solidus>plain<comma>DESTINATION_DATASETTYPE_VALIDATION<comma>Yes<comma>COORDINATE_SYSTEM_GRANULARITY<comma>FEATURE,METAFILE,TEXTLINE"    WRITER_METAFILE "ATTRIBUTE_CASE,ANY,ATTRIBUTE_INVALID_CHARS,,ATTRIBUTE_LENGTH,60,ATTR_TYPE_MAP,char<openparen>width<closeparen><comma>fme_varchar<openparen>width<closeparen><comma>char<openparen>width<closeparen><comma>fme_varbinary<openparen>width<closeparen><comma>char<openparen>width<closeparen><comma>fme_char<openparen>width<closeparen><comma>char<openparen>width<closeparen><comma>fme_binary<openparen>width<closeparen><comma>buffer<comma>fme_buffer<comma>buffer<comma>fme_binarybuffer<comma>buffer<comma>fme_xml<comma>buffer<comma>fme_json<comma>char<openparen>20<closeparen><comma>fme_datetime<comma>char<openparen>12<closeparen><comma>fme_time<comma>char<openparen>8<closeparen><comma>fme_date<comma><quote>number<openparen>31<comma>15<closeparen><quote><comma>fme_real64<comma><quote>number<openparen>15<comma>7<closeparen><quote><comma>fme_real32<comma><quote>number<openparen>11<comma>0<closeparen><quote><comma>fme_int32<comma><quote>number<openparen>11<comma>0<closeparen><quote><comma>fme_uint32<comma><quote>number<openparen>20<comma>0<closeparen><quote><comma>fme_int64<comma><quote>number<openparen>20<comma>0<closeparen><quote><comma>fme_uint64<comma>logical<comma>fme_boolean<comma><quote>number<openparen>6<comma>0<closeparen><quote><comma>fme_int16<comma><quote>number<openparen>6<comma>0<closeparen><quote><comma>fme_uint16<comma><quote>number<openparen>4<comma>0<closeparen><quote><comma>fme_int8<comma><quote>number<openparen>4<comma>0<closeparen><quote><comma>fme_uint8<comma><quote>number<openparen>width<comma>decimal<closeparen><quote><comma><quote>fme_decimal<openparen>width<comma>decimal<closeparen><quote>,DEST_ILLEGAL_ATTR_LIST,,FEATURE_TYPE_CASE,ANY,FEATURE_TYPE_INVALID_CHARS,,FEATURE_TYPE_LENGTH,0,FEATURE_TYPE_LENGTH_INCLUDES_PREFIX,false,FEATURE_TYPE_RESERVED_WORDS,,FORMAT_METAFILE,$(FME_HOME_ENCODED)metafile<backslash>TEXTLINE.fmf,FORMAT_NAME,TEXTLINE,GEOM_MAP,text_line_none<comma>fme_no_geom<comma>text_line_none<comma>fme_point<comma>text_line_none<comma>fme_line<comma>text_line_none<comma>fme_polygon<comma>text_line_none<comma>fme_text<comma>text_line_none<comma>fme_ellipse<comma>text_line_none<comma>fme_arc<comma>text_line_none<comma>fme_rectangle<comma>text_line_none<comma>fme_rounded_rectangle<comma>text_line_none<comma>fme_collection<comma>text_line_none<comma>fme_raster<comma>text_line_none<comma>fme_surface<comma>text_line_none<comma>fme_solid<comma>text_line_none<comma>fme_point_cloud<comma>text_line_none<comma>fme_feature_table,READER_ATTR_INDEX_TYPES,,SOURCE,no,SUPPORTS_FEAT_TYPE_FANOUT,no,SUPPORTS_MULTI_GEOM,yes,WORKBENCH_CANNED_SCHEMA,textline.sch,WRITER,TEXTLINE,WRITER_ATTR_INDEX_TYPES,,WRITER_DEFLINE_PARMS,,WRITER_DEF_LINE_TEMPLATE,<opencurly>FME_GEN_GROUP_NAME<closecurly>,WRITER_FORMAT_PARAMETER,READER_FEATURE_TYPE_EDITING<comma>NO<comma>WRITER_FEATURE_TYPE_EDITING<comma>NO<comma>MIME_TYPE<comma>text<solidus>plain<comma>DATASET_NAME<comma><quote>txt<space>file<quote><comma>FEATURE_TYPE_DEFAULT_NAME<comma>text_line<comma>READER_DATASET_HINT<comma><quote>Select<space>the<space>Text<space>file<openparen>s<closeparen><quote><comma>WRITER_DATASET_HINT<comma><quote>Specify<space>a<space>name<space>for<space>the<space>Text<space>file<quote>,WRITER_HAS_DEFLINE_ATTRS,yes"    WRITER_FEATURE_TYPES "text_line:text_line,ftp_feature_type_name,text_line,ftp_writer,TEXTLINE,ftp_dynamic_schema,no,ftp_dynamic_feature_type_name_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_geometry_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_schema_def_name_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_schema_sources,<lt>lt<gt>Unused<lt>gt<gt>,ftp_attribute_source,1,ftp_user_attributes,text_line_data<comma>buffer,ftp_user_attribute_values,<lt>lt<gt>at<lt>gt<gt>Value<lt>lt<gt>openparen<lt>gt<gt>html<lt>lt<gt>closeparen<lt>gt<gt>"    WRITER_PARAMS "COORDINATE_SYSTEM_GRANULARITY,FEATURE,OVERWRITE_FILE,YES,ENCODING,utf-8,WRITE_LAST_EOL,YES,MIME_TYPE,text<solidus>plain,DESTINATION_DATASETTYPE_VALIDATION,Yes,WRITE_UTF8_BOM,YES,END_OF_LINE,System"    DATASET_ATTR "_dataset"    FEATURE_TYPE_LIST_ATTR "_feature_type"    TOTAL_FEATURES_WRITTEN_ATTR "_total_features_written"    OUTPUT_PORTS ""    INPUT text_line FEATURE_TYPE AttributeCreator_PIFile_OUTPUT  @FeatureType(ENCODED,text_line)    OUTPUT SUMMARY FEATURE_TYPE PI_File_SUMMARY
# -------------------------------------------------------------------------
MACRO SQLExecutor_4_DIRECTIVES CREATE_FEATURE_TABLES_FROM_DATA Yes NAMED_CONNECTION "$(DB_CONNECTION)" COMMAND_TIMEOUT 30 QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes
FACTORY_DEF * QueryFactory    FACTORY_NAME SQLExecutor_4    INPUT  FEATURE_TYPE PI_File_SUMMARY    QUERY_SQL            "@EvaluateExpression(FDIV,STRING_ENCODED,select<space>TOP<openparen>$(TOP_PERCENT_LIMIT$encode)<closeparen>PERCENT<lf>pip.countryCode<space>as<space>countryId<comma><lf>pip.reportingYear<comma><lf>pip.localId<space>as<space>inspireId_localId<comma><lf>pip.namespace<space>as<space>inspireId_namespace<comma><lf>pip.installationPartName<comma><lf>pip.plantType<comma><lf>pip.gmlId<comma><lf>pip.x_4258<space>as<space>longitude<comma><lf>pip.y_4258<space>as<space>latitude<comma><lf>pip.status<lf>from<space>dbo.ProductionInstallationPart<space>pip<space>left<space>join<lf><openparen>select<space>installationPartId<comma><space>STRING_AGG<space><openparen>derogation<comma><space><apos><comma><apos><closeparen><space>as<space>derogations<lf>from<space>dbo.ProductionInstallationPartDerogation<space>group<space>by<space>installationPartId<space><closeparen><space>pd<lf>on<space>pd.installationPartId<space>=<space>pip.id<lf>where<space>pip.countryCode<space>=<space><apos>$(COUNTRY_CODE$encode)<apos>,SQLExecutor_4)"    READER_TYPE          MSSQL_ADO    READER_DATASET       "@EvaluateExpression(FDIV,STRING_ENCODED,$(DB_CONNECTION),SQLExecutor_4)"    COMBINE_ATTRIBUTES   RESULT_ONLY    COMBINE_GEOMETRY     QUERY_ONLY    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        $(SQLExecutor_4_DIRECTIVES)    OUTPUT RESULT FEATURE_TYPE SQLExecutor_4_RESULT        @SupplyAttributes(fme_feature_type,SQLExecutor_4)    OUTPUT QUERY FEATURE_TYPE SQLExecutor_4_INITIATOR    OUTPUT READER_ERROR FEATURE_TYPE SQLExecutor_4_<REJECTED>
FACTORY_DEF * TeeFactory   FACTORY_NAME "SQLExecutor_4 INITIATOR Transformer Output Nuker"   INPUT FEATURE_TYPE SQLExecutor_4_INITIATOR
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME SQLExecutor_4_<Rejected> INPUT FEATURE_TYPE SQLExecutor_4_<REJECTED>  OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, SQLExecutor_4<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
FACTORY_DEF * TeeFactory   FACTORY_NAME "Jinja2Wrapper-PIP Features Input Collector"   INPUT FEATURE_TYPE SQLExecutor_4_RESULT   OUTPUT FEATURE_TYPE Jinja2Wrapper-PIP_Features
MACRO Jinja2Wrapper_WORKSPACE_NAME Jinja2Wrapper-PIP
MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_XFORMER_NAME Jinja2Wrapper-PIP
MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_TRANSFORMER_GROUP 
MACRO $(Jinja2Wrapper_WORKSPACE_NAME)___COMPOUND_PARAMETERS 
MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_SUB_DOC_NAME Jinja2Wrapper
MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_TEMPLATE_FILE production_installation_part_template.jinja2.xml
DEFAULT_MACRO Jinja2Wrapper_WORKSPACE_NAME ""
INCLUDE [puts {MACRO WB_OLD_CONTEXT_$(Jinja2Wrapper_WORKSPACE_NAME) $(WB_CURRENT_CONTEXT)};          puts {MACRO WB_CURRENT_CONTEXT $(Jinja2Wrapper_WORKSPACE_NAME)}]
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_Features1571839439 Input Splitter"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_Features"   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_Features"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_NameValuePairs1571839439 Input Splitter"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_NameValuePairs"   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_NameValuePairs"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRowVariables1571839439 Input Splitter"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRowVariables"   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRowVariables"
# -------------------------------------------------------------------------
INCLUDE [ puts "MACRO REAL_RATE [expr 1 * -1 ]" ]
FACTORY_DEF {*} SamplingFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow    SAMPLE_RATE $(REAL_RATE)    SAMPLE_ORDER ORIGINAL    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRowVariables"    OUTPUT SAMPLED FEATURE_TYPE ___SAMPLED___
# This TeeFactory is needed because Sampler will still output features if it has no OUTPUT clauses specified.
# This way we behave nicely even if there are no output connections on the transformer. See PR#28886.
FACTORY_DEF * TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_Sampled    INPUT FEATURE_TYPE ___SAMPLED___    OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_SAMPLED"
# -------------------------------------------------------------------------
FACTORY_DEF {*} AttrSetFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator_2    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_SAMPLED"    MULTI_FEATURE_MODE NO    NULL_ATTR_MODE NO_OP     ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV     ATTR_ACTION { "" "_jinjaDataClass" "SET_TO" "globalFirstRow" }    OUTPUT OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator_2_OUTPUT"
# -------------------------------------------------------------------------
FACTORY_DEF {*} AttrSetFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_NameValuePairs"    MULTI_FEATURE_MODE NO    NULL_ATTR_MODE NO_OP     ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV     ATTR_ACTION { "" "_jinjaDataClass" "SET_TO" "globalKeyValue" }    OUTPUT OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator_OUTPUT"
# -------------------------------------------------------------------------
INCLUDE [ puts "MACRO REAL_RATE [expr 1 * -1 ]" ]
FACTORY_DEF {*} SamplingFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2    SAMPLE_RATE $(REAL_RATE)    SAMPLE_ORDER ORIGINAL    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_Features"    OUTPUT SAMPLED FEATURE_TYPE ___SAMPLED___    OUTPUT NOT_SAMPLED FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2_NOT_SAMPLED"
# This TeeFactory is needed because Sampler will still output features if it has no OUTPUT clauses specified.
# This way we behave nicely even if there are no output connections on the transformer. See PR#28886.
FACTORY_DEF * TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2_Sampled    INPUT FEATURE_TYPE ___SAMPLED___    OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2_SAMPLED"
# -------------------------------------------------------------------------
Tcl2 proc $(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher_doFetch {} {    foreach {name val} {"_templateFile {$($(Jinja2Wrapper_WORKSPACE_NAME)_TEMPLATE_FILE$encode)} _workingDir {$(FME_MF_DIR_USERTYPED$encode)}"} {         if { [string match {*<at>*} $val] == 1 } {             set val [FME_Execute EvaluateExpression {STRING} $val {$(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher}];         } elseif {[string match {*FME_CONDITIONAL*} $val] == 1} {             set val [FME_Execute EvaluateExpression {STRING} $val {$(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher}];         } else {             set val [FME_DecodeTextOrAttr $val];         };       FME_SetAttribute [FME_DecodeText $name] $val    } }
FACTORY_DEF * TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2_SAMPLED"    OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher_OUTPUT"         @Tcl2($(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher_doFetch)
# -------------------------------------------------------------------------
FME_PYTHON_PATH "$(FME_MF_DIR)"
FACTORY_DEF * PythonFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_ParameterFetcher_OUTPUT"    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator_OUTPUT"    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeCreator_2_OUTPUT"    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstRow_2_NOT_SAMPLED"    SYMBOL_NAME FeatureProcessor    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE import<space>sys<lf>import<space>os<lf>import<space>pip<lf>import<space>uuid<lf>import<space>pathlib<lf>import<space>fme<lf>import<space>fmeobjects<lf>import<space>subprocess<lf><lf><lf>templater_outputs<space>=<space><opencurly><closecurly><lf><lf>class<space>FeatureProcessor<openparen>object<closeparen>:<lf><space><space><space><space>def<space>__init__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space>self.data<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space>self.templater_output_id<space>=<space>str<openparen>uuid.uuid1<openparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>self.globals<space>=<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space>self.template_file<space>=<space>None<lf><space><space><space><space><space><space><space><space>self.working_dir<space>=<space>None<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space>def<space>input<openparen>self<comma><space>feature<closeparen>:<lf><space><space><space><space><space><space><space><space>#<space>Need<space>to<space>transform<space>the<space>feature<space>with<space>its<space>list<space>attributes<space>in<space>a<space>python<space>dict<lf><space><space><space><space><space><space><space><space>#<space>List<space>attributes<space>are<space>tricky<space>because<space>they<space>are<space>presented<space>as<space>columns<space>rather<space>than<space>rows<lf><space><space><space><space><space><space><space><space>entry<space>=<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space>local_lists=<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><quote>_templater_output_id<quote><comma><space>self.templater_output_id<closeparen><lf><lf><space><space><space><space><space><space><space><space>att_names<space>=<space>feature.getAllAttributeNames<openparen><closeparen><lf><lf><space><space><space><space><space><space><space><space>if<space><quote>_templateFile<quote><space>in<space>att_names:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.template_file<space>=<space>feature.getAttribute<openparen><quote>_templateFile<quote><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>if<space><quote>_workingDir<quote><space>in<space>att_names:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.working_dir<space>=<space>feature.getAttribute<openparen><quote>_workingDir<quote><closeparen><lf><lf><space><space><space><space><space><space><space><space>if<space><quote>_jinjaDataClass<quote><space>in<space>att_names:<space><lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>att<space>in<space>att_names:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.globals<openbracket>att<closebracket><space>=<space>feature.getAttribute<openparen>att<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>return<lf><space><space><space><space><space><space><space><space><lf><lf><space><space><space><space><space><space><space><space>for<space>att<space>in<space>att_names:<lf><space><space><space><space><space><space><space><space><space><space><space><space>att_split<space>=<space>att.split<openparen><apos><opencurly><apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>len<openparen>att_split<closeparen><space><gt><space>1:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>List<space>attribute<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>att_split<space>=<space><openbracket>att_split<openbracket>0<closebracket><comma>att_split<openbracket>1<closebracket>.split<openparen><apos>.<apos><closeparen><openbracket>1<closebracket><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>list_name<space>=<space>att_split<openbracket>0<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>field_name<space>=<space>att_split<openbracket>1<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>list_att_name<space>=<space><apos><opencurly><closecurly><opencurly><opencurly><closecurly><closecurly>.<opencurly><closecurly><apos>.format<openparen>list_name<comma><space>field_name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>values<space>=<space>feature.getAttribute<openparen>list_att_name<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>list_name<space>not<space>in<space>local_lists:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>local_lists<openbracket>list_name<closebracket><space>=<openbracket><opencurly><closecurly><space>for<space>_<space>in<space>values<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>for<space>idx<comma><space>v<space>in<space>enumerate<openparen>values<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>local_lists<openbracket>list_name<closebracket><openbracket>idx<closebracket><openbracket>field_name<closebracket><space>=<space>v<lf><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Regualr<space>attribute<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>entry<openbracket>att<closebracket><space>=<space>feature.getAttribute<openparen>att<closeparen><lf><space><space><space><space><space><space><space><space>#<space>Now<space>add<space>the<space>lists<space>of<space>dict<space>in<space>the<space>main<space>entry<lf><space><space><space><space><space><space><space><space>for<space>list_name<comma><space>value<space>in<space>local_lists.items<openparen><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>entry<openbracket>list_name<closebracket><space>=<space>value<lf><space><space><space><space><space><space><space><space>self.data.append<openparen>entry<closeparen><lf><space><space><space><space><space><space><space><space>self.pyoutput<openparen>feature<closeparen><lf><lf><space><space><space><space>def<space>close<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space>global<space>templater_outputs<lf><space><space><space><space><space><space><space><space>#<space>Install<space>jinja2<space>if<space>not<space>available<space>but<space>only<space>on<space>local<space>deployments<space>not<space>on<space>server<lf><space><space><space><space><space><space><space><space>if<space><openparen>FME_MacroValues<openbracket><apos>FME_SERVER_HOST<apos><closebracket>==<apos><apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>print<openparen><quote>Running<space>on<space>desktop<space>machine<quote><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>#installed_pkgs<space>=<space>set<openparen><openbracket>pkg.key<space>for<space>pkg<space>in<space>pip.get_installed_distributions<openparen><closeparen><closebracket><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>installed_pkgs<space>=<space>sys.modules.keys<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space><apos>jinja2<apos><space>not<space>in<space>installed_pkgs:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>print<openparen><quote>Installing<space>jinja2<quote><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>#subprocess.call<openparen><openbracket><quote>pip<quote><comma><space><quote>install<quote><comma><quote>target<quote><comma><quote>.<quote><space><comma><quote>jinja2<quote><closebracket><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>if<space>int<openparen>pip.__version__.split<openparen><apos>.<apos><closeparen><openbracket>0<closebracket><closeparen><gt>9:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>from<space>pip._internal<space>import<space>main<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>from<space>pip<space>import<space>main<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>main<openparen><openbracket><quote>install<quote><comma><quote>--user<quote><comma><quote>jinja2<quote><comma><closebracket><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>except<space>SystemExit<space>as<space>e:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>print<openparen>e<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>return<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>sys.path.append<openparen>os.getcwd<openparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space>import<space>jinja2<lf><lf><space><space><space><space><space><space><space><space>if<space>self.template_file<space>is<space>None<space>or<space>len<openparen>self.data<closeparen>==0:<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>loader<space>=<space>jinja2.FileSystemLoader<openparen>self.working_dir<closeparen><lf><lf><space><space><space><space><space><space><space><space>#with<space>open<openparen>pathlib.Path<openparen>self.working_dir<comma><space>self.template_file<closeparen><closeparen><space>as<space>file_:<lf><space><space><space><space><space><space><space><space>#<space><space><space><space>template<space>=<space>jinja2.Template<openparen>file_.read<openparen><closeparen><closeparen><lf><lf><space><space><space><space><space><space><space><space>try:<lf><space><space><space><space><space><space><space><space><space><space><space><space>env<space>=<space>jinja2.Environment<openparen>loader=loader<comma><space>autoescape=jinja2.select_autoescape<openparen><openbracket><apos>xml<apos><comma><apos>gml<apos><closebracket><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>template<space>=<space>env.get_template<openparen>self.template_file<closeparen><lf><space><space><space><space><space><space><space><space>except<space>jinja2.TemplateNotFound<space>as<space>e:<lf><space><space><space><space><space><space><space><space><space><space><space><space>print<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space>Error<space>finding<space>Template!<lf><space><space><space><space><space><space><space><space><space><space><space><space>--------------------------<lf><space><space><space><space><space><space><space><space><space><space><space><space>Error:<space><space><space><space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space><space><space><space><space>Name:<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space><space><space><space><space><quote><quote><quote>.format<openparen>e.message<comma><space>e.name<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>return<lf><space><space><space><space><space><space><space><space>except<space>jinja2.TemplateSyntaxError<space>as<space>e:<lf><space><space><space><space><space><space><space><space><space><space><space><space>print<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space>Syntax<space>error<space>in<space>template!<lf><space><space><space><space><space><space><space><space><space><space><space><space>--------------------------<lf><space><space><space><space><space><space><space><space><space><space><space><space>Error:<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space><space><space><space><space>Name:<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space><space><space><space><space>LineNo:<space><opencurly><closecurly><space><lf><space><space><space><space><space><space><space><space><space><space><space><space><quote><quote><quote>.format<openparen>e.message<comma><space>e.name<comma><space>e.lineno<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>return<lf><space><space><space><space><space><space><space><space>templater_outputs<openbracket>self.templater_output_id<closebracket><space>=<space>template.render<openparen>features<space>=<space>self.data<comma><space>**self.globals<closeparen><lf>    OUTPUT PYOUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller OUTPUT Splitter"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT"   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT_0_zQkpVC0M/eU="   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT_1_GzF4JOIEceU="
# -------------------------------------------------------------------------
FACTORY_DEF * SortFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FeatureHolder    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT_0_zQkpVC0M/eU="    OUTPUT SORTED FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FeatureHolder_OUTPUT"
# -------------------------------------------------------------------------
INCLUDE [ puts "MACRO REAL_RATE [expr 1 * -1 ]" ]
FACTORY_DEF {*} SamplingFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstOnly    SAMPLE_RATE $(REAL_RATE)    SAMPLE_ORDER ORIGINAL    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FeatureHolder_OUTPUT"    OUTPUT SAMPLED FEATURE_TYPE ___SAMPLED___
# This TeeFactory is needed because Sampler will still output features if it has no OUTPUT clauses specified.
# This way we behave nicely even if there are no output connections on the transformer. See PR#28886.
FACTORY_DEF * TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_FirstOnly_Sampled    INPUT FEATURE_TYPE ___SAMPLED___    OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstOnly_SAMPLED"
# -------------------------------------------------------------------------
INCLUDE [    set macroLine "MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeKeeper_8f75e196_0e18_401d_ac56_04e727e4296f19_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF {*} TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeKeeper    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_FirstOnly_SAMPLED"    OUTPUT { FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeKeeper_OUTPUT"        @KeepAttributes(fme_encoded,_templater_output_id,fme_pcre_match,"^fme_$($(Jinja2Wrapper_WORKSPACE_NAME)_AttributeKeeper_8f75e196_0e18_401d_ac56_04e727e4296f19_LIST_EXP)")         }
# -------------------------------------------------------------------------
FME_PYTHON_PATH "$(FME_MF_DIR)"
FACTORY_DEF * PythonFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_WriteOutputHtml    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeKeeper_OUTPUT"    SYMBOL_NAME processFeature    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE import<space>fme<lf>import<space>fmeobjects<lf><lf>def<space>processFeature<openparen>feature<closeparen>:<lf><space><space><space><space>global<space>templater_outputs<lf><space><space><space><space>output_id<space>=<space>feature.getAttribute<openparen><quote>_templater_output_id<quote><closeparen><lf><space><space><space><space>feature.setAttribute<openparen><quote>html<quote><comma><space>templater_outputs<openbracket>output_id<closebracket><closeparen>    OUTPUT PYOUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_WriteOutputHtml_OUTPUT"
# -------------------------------------------------------------------------
INCLUDE [    set macroLine "MACRO $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeRemover_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF {*} TeeFactory    FACTORY_NAME $(Jinja2Wrapper_WORKSPACE_NAME)_AttributeRemover    INPUT  FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_WriteOutputHtml_OUTPUT"    OUTPUT { FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeRemover_OUTPUT"        @RemoveAttributes(fme_encoded,_tempitaLocalId)        @RemoveAttributes(fme_pcre_match"$($(Jinja2Wrapper_WORKSPACE_NAME)_AttributeRemover_LIST_EXP)")         }
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_Initiator1571839439 Output Collector"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_PythonCaller_OUTPUT_1_GzF4JOIEceU="   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_Initiator"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(Jinja2Wrapper_WORKSPACE_NAME)_Html1571839439 Output Collector"   INPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_AttributeRemover_OUTPUT"   OUTPUT FEATURE_TYPE "$(Jinja2Wrapper_WORKSPACE_NAME)_Html"
INCLUDE [puts {MACRO WB_CURRENT_CONTEXT $(WB_OLD_CONTEXT_$(Jinja2Wrapper_WORKSPACE_NAME))}]
FACTORY_DEF * TeeFactory   FACTORY_NAME "Jinja2Wrapper-PIP Html Output Renamer/Nuker"   INPUT FEATURE_TYPE Jinja2Wrapper-PIP_Html   OUTPUT FEATURE_TYPE Jinja2Wrapper-PIP_Html
FACTORY_DEF * TeeFactory   FACTORY_NAME "Jinja2Wrapper-PIP Initiator Output Renamer/Nuker"   INPUT FEATURE_TYPE Jinja2Wrapper-PIP_Initiator
# -------------------------------------------------------------------------
FACTORY_DEF {*} AttrSetFactory    FACTORY_NAME AttributeCreator_PIPFile    COMMAND_PARM_EVALUATION SINGLE_PASS    INPUT  FEATURE_TYPE Jinja2Wrapper-PIP_Html    MULTI_FEATURE_MODE NO    NULL_ATTR_MODE NO_OP     ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV     ATTR_ACTION { "" "ProductionInstallationPartFile" "SET_TO" "$(COUNTRY_CODE$encode)_$(PRODUCTION_INSTALLATION_PART_FILE$encode)" }    OUTPUT OUTPUT FEATURE_TYPE AttributeCreator_PIPFile_OUTPUT
# -------------------------------------------------------------------------
FACTORY_DEF * AttrSetFactory FACTORY_NAME text_line_PIP_file_081c3247_6a77_4729_addf_1f7cd84a269a4 INPUT FEATURE_TYPE AttributeCreator_PIPFile_OUTPUT MULTI_FEATURE_MODE NO NULL_ATTR_MODE NO_OP ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV ATTR text_line_data <at>Value<openparen>html<closeparen> OUTPUT OUTPUT FEATURE_TYPE *
INCLUDE [    puts {DEFAULT_MACRO FeatureWriterDataset_PIP_file @EvaluateExpression(FDIV,STRING_ENCODED,<at>Value<openparen>ProductionInstallationPartFile<closeparen>,PIP_file)}; ]
FACTORY_DEF * WriterFactory    FACTORY_NAME PIP_file    WRITER_TYPE TEXTLINE    WRITER_DATASET "$(FeatureWriterDataset_PIP_file)"    WRITER_SETTINGS "RUNTIME_MACROS,OVERWRITE_FILE<comma>YES<comma>END_OF_LINE<comma>System<comma>WRITE_LAST_EOL<comma>YES<comma>ENCODING<comma>utf-8<comma>WRITE_UTF8_BOM<comma>YES<comma>MIME_TYPE<comma>text<solidus>plain<comma>DESTINATION_DATASETTYPE_VALIDATION<comma>Yes<comma>COORDINATE_SYSTEM_GRANULARITY<comma>FEATURE,METAFILE,TEXTLINE"    WRITER_METAFILE "ATTRIBUTE_CASE,ANY,ATTRIBUTE_INVALID_CHARS,,ATTRIBUTE_LENGTH,60,ATTR_TYPE_MAP,char<openparen>width<closeparen><comma>fme_varchar<openparen>width<closeparen><comma>char<openparen>width<closeparen><comma>fme_varbinary<openparen>width<closeparen><comma>char<openparen>width<closeparen><comma>fme_char<openparen>width<closeparen><comma>char<openparen>width<closeparen><comma>fme_binary<openparen>width<closeparen><comma>buffer<comma>fme_buffer<comma>buffer<comma>fme_binarybuffer<comma>buffer<comma>fme_xml<comma>buffer<comma>fme_json<comma>char<openparen>20<closeparen><comma>fme_datetime<comma>char<openparen>12<closeparen><comma>fme_time<comma>char<openparen>8<closeparen><comma>fme_date<comma><quote>number<openparen>31<comma>15<closeparen><quote><comma>fme_real64<comma><quote>number<openparen>15<comma>7<closeparen><quote><comma>fme_real32<comma><quote>number<openparen>11<comma>0<closeparen><quote><comma>fme_int32<comma><quote>number<openparen>11<comma>0<closeparen><quote><comma>fme_uint32<comma><quote>number<openparen>20<comma>0<closeparen><quote><comma>fme_int64<comma><quote>number<openparen>20<comma>0<closeparen><quote><comma>fme_uint64<comma>logical<comma>fme_boolean<comma><quote>number<openparen>6<comma>0<closeparen><quote><comma>fme_int16<comma><quote>number<openparen>6<comma>0<closeparen><quote><comma>fme_uint16<comma><quote>number<openparen>4<comma>0<closeparen><quote><comma>fme_int8<comma><quote>number<openparen>4<comma>0<closeparen><quote><comma>fme_uint8<comma><quote>number<openparen>width<comma>decimal<closeparen><quote><comma><quote>fme_decimal<openparen>width<comma>decimal<closeparen><quote>,DEST_ILLEGAL_ATTR_LIST,,FEATURE_TYPE_CASE,ANY,FEATURE_TYPE_INVALID_CHARS,,FEATURE_TYPE_LENGTH,0,FEATURE_TYPE_LENGTH_INCLUDES_PREFIX,false,FEATURE_TYPE_RESERVED_WORDS,,FORMAT_METAFILE,$(FME_HOME_ENCODED)metafile<backslash>TEXTLINE.fmf,FORMAT_NAME,TEXTLINE,GEOM_MAP,text_line_none<comma>fme_no_geom<comma>text_line_none<comma>fme_point<comma>text_line_none<comma>fme_line<comma>text_line_none<comma>fme_polygon<comma>text_line_none<comma>fme_text<comma>text_line_none<comma>fme_ellipse<comma>text_line_none<comma>fme_arc<comma>text_line_none<comma>fme_rectangle<comma>text_line_none<comma>fme_rounded_rectangle<comma>text_line_none<comma>fme_collection<comma>text_line_none<comma>fme_raster<comma>text_line_none<comma>fme_surface<comma>text_line_none<comma>fme_solid<comma>text_line_none<comma>fme_point_cloud<comma>text_line_none<comma>fme_feature_table,READER_ATTR_INDEX_TYPES,,SOURCE,no,SUPPORTS_FEAT_TYPE_FANOUT,no,SUPPORTS_MULTI_GEOM,yes,WORKBENCH_CANNED_SCHEMA,textline.sch,WRITER,TEXTLINE,WRITER_ATTR_INDEX_TYPES,,WRITER_DEFLINE_PARMS,,WRITER_DEF_LINE_TEMPLATE,<opencurly>FME_GEN_GROUP_NAME<closecurly>,WRITER_FORMAT_PARAMETER,READER_FEATURE_TYPE_EDITING<comma>NO<comma>WRITER_FEATURE_TYPE_EDITING<comma>NO<comma>MIME_TYPE<comma>text<solidus>plain<comma>DATASET_NAME<comma><quote>txt<space>file<quote><comma>FEATURE_TYPE_DEFAULT_NAME<comma>text_line<comma>READER_DATASET_HINT<comma><quote>Select<space>the<space>Text<space>file<openparen>s<closeparen><quote><comma>WRITER_DATASET_HINT<comma><quote>Specify<space>a<space>name<space>for<space>the<space>Text<space>file<quote>,WRITER_HAS_DEFLINE_ATTRS,yes"    WRITER_FEATURE_TYPES "text_line:text_line,ftp_feature_type_name,text_line,ftp_writer,TEXTLINE,ftp_dynamic_schema,no,ftp_dynamic_feature_type_name_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_geometry_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_schema_def_name_type,DYN_SCHEMA_PROP_AUTO,ftp_dynamic_schema_sources,<lt>lt<gt>Unused<lt>gt<gt>,ftp_attribute_source,1,ftp_user_attributes,text_line_data<comma>buffer,ftp_user_attribute_values,<lt>lt<gt>at<lt>gt<gt>Value<lt>lt<gt>openparen<lt>gt<gt>html<lt>lt<gt>closeparen<lt>gt<gt>"    WRITER_PARAMS "COORDINATE_SYSTEM_GRANULARITY,FEATURE,OVERWRITE_FILE,YES,ENCODING,utf-8,WRITE_LAST_EOL,YES,MIME_TYPE,text<solidus>plain,DESTINATION_DATASETTYPE_VALIDATION,Yes,WRITE_UTF8_BOM,YES,END_OF_LINE,System"    DATASET_ATTR "_dataset"    FEATURE_TYPE_LIST_ATTR "_feature_type"    TOTAL_FEATURES_WRITTEN_ATTR "_total_features_written"    OUTPUT_PORTS ""    INPUT text_line FEATURE_TYPE AttributeCreator_PIPFile_OUTPUT  @FeatureType(ENCODED,text_line)
# -------------------------------------------------------------------------

FACTORY_DEF * RoutingFactory FACTORY_NAME "Destination Feature Type Routing Correlator"   COMMAND_PARM_EVALUATION SINGLE_PASS   INPUT FEATURE_TYPE *   FEATURE_TYPE_ATTRIBUTE __wb_out_feat_type__   OUTPUT ROUTED FEATURE_TYPE *    OUTPUT NOT_ROUTED FEATURE_TYPE __nuke_me__ @Tcl2("FME_StatMessage 818059 [FME_GetAttribute fme_template_feature_type] 818060 818061 fme_warn")
# -------------------------------------------------------------------------

FACTORY_DEF * TeeFactory   FACTORY_NAME "Final Output Nuker"   INPUT FEATURE_TYPE __nuke_me__

